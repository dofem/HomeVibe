<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeVibe - Affordable Home Essentials for Nigerian Homes</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #ff6b35;
            --primary-dark: #e55530;
            --secondary-color: #2c5aa0;
            --accent-color: #ffd23f;
            --text-dark: #1a1a1a;
            --text-gray: #666;
            --text-light: #999;
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --border-color: #e0e0e0;
            --success-color: #28a745;
            --naira-color: #008751;
            --shadow-light: 0 2px 10px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 4px 20px rgba(0, 0, 0, 0.15);
            --shadow-heavy: 0 8px 30px rgba(0, 0, 0, 0.2);
            --gradient-primary: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            --gradient-secondary: linear-gradient(135deg, #2c5aa0 0%, #1e3a8a 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--bg-light);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        .header {
            background: var(--bg-white);
            box-shadow: var(--shadow-light);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .header-top {
            background: var(--gradient-primary);
            color: white;
            padding: 8px 0;
            text-align: center;
            font-size: 14px;
        }

        .header-main {
            padding: 15px 0;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo i {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 50px 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .search-btn {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--gradient-primary);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            transform: translateY(-50%) scale(1.05);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .header-action {
            position: relative;
            background: none;
            border: none;
            color: var(--text-dark);
            font-size: 20px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .header-action:hover {
            background: var(--bg-light);
            color: var(--primary-color);
        }

        .header-action .badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-menu-btn {
            display: none;
        }

        /* Navigation */
        .nav {
            background: var(--bg-white);
            border-top: 1px solid var(--border-color);
        }

        .nav-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            padding: 15px 0;
        }

        .nav-item {
            position: relative;
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 500;
            padding: 10px 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-item:hover {
            color: var(--primary-color);
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            border-radius: 2px;
        }

        /* Main Content */
        .main {
            margin-top: 140px;
            min-height: calc(100vh - 140px);
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hero Section */
        .hero {
            background: var(--gradient-primary);
            color: white;
            padding: 80px 0;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .hero-text h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-text p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .hero-cta {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: white;
            color: var(--primary-color);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: white;
            color: var(--primary-color);
        }

        .hero-visual {
            position: relative;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: var(--shadow-heavy);
        }

        /* Features Section */
        .features {
            padding: 80px 0;
            background: var(--bg-white);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
        }

        .feature-card {
            text-align: center;
            padding: 40px 20px;
            border-radius: 20px;
            background: var(--bg-light);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-medium);
            background: white;
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 30px;
            color: white;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--text-dark);
        }

        .feature-card p {
            color: var(--text-gray);
            line-height: 1.6;
        }

        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            padding: 40px 0;
        }

        .product-card {
            background: var(--bg-white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: var(--bg-light);
        }

        .product-info {
            padding: 20px;
        }

        .product-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--naira-color);
            margin-bottom: 15px;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .stars {
            color: var(--accent-color);
        }

        .rating-text {
            color: var(--text-light);
            font-size: 14px;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border-radius: 8px;
        }

        .wishlist-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-gray);
            transition: all 0.3s ease;
        }

        .wishlist-btn:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }

        .wishlist-btn.active {
            color: var(--primary-color);
            background: rgba(255, 107, 53, 0.1);
        }

        /* Categories */
        .categories {
            padding: 80px 0;
            background: var(--bg-white);
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-dark);
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--text-gray);
            max-width: 600px;
            margin: 0 auto;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .category-card {
            background: var(--bg-light);
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            transition: all 0.5s ease;
            z-index: 1;
        }

        .category-card:hover::before {
            left: 0;
        }

        .category-card:hover {
            transform: translateY(-10px);
            color: white;
        }

        .category-card * {
            position: relative;
            z-index: 2;
        }

        .category-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            transition: all 0.3s ease;
        }

        .category-card:hover .category-icon {
            color: white;
        }

        .category-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .category-count {
            color: var(--text-gray);
            transition: all 0.3s ease;
        }

        .category-card:hover .category-count {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Cart Styles */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: var(--shadow-heavy);
            z-index: 2000;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .cart-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text-gray);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            background: var(--bg-light);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--naira-color);
            font-weight: 600;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .qty-btn {
            background: var(--bg-light);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--border-color);
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1500;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Footer */
        .footer {
            background: var(--text-dark);
            color: white;
            padding: 60px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h4 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 10px;
        }

        .footer-section ul li a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s ease;
            cursor: pointer;
        }

        .footer-section ul li a:hover {
            color: var(--primary-color);
        }

        .payment-methods {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .payment-method {
            background: var(--bg-light);
            color: var(--text-dark);
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .footer-bottom {
            border-top: 1px solid #333;
            padding-top: 20px;
            text-align: center;
            color: #999;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-wrap: wrap;
                gap: 15px;
            }

            .search-bar {
                order: 3;
                width: 100%;
            }

            .mobile-menu-btn {
                display: block;
            }

            .nav {
                display: none;
            }

            .hero-content {
                grid-template-columns: 1fr;
                gap: 40px;
                text-align: center;
            }

            .hero-text h1 {
                font-size: 2.5rem;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 20px;
            }

            .cart-sidebar {
                width: 100vw;
                right: -100vw;
            }

            .section-title {
                font-size: 2rem;
            }

            .container {
                padding: 0 15px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Floating WhatsApp Button */
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #25d366;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            text-decoration: none;
            box-shadow: var(--shadow-medium);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            background: #128c7e;
        }

        /* Notification Toast */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success-color);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: var(--shadow-medium);
            z-index: 3000;
            transform: translateX(400px);
            transition: all 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: #dc3545;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-gray);
        }

        /* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
}

.modal-content {
    background-color: white;
    margin: 5% auto;
    padding: 0;
    border-radius: 8px;
    width: 90%;
    max-width: 600px;
    position: relative;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    max-height: 90vh;
    overflow-y: auto;
}

.modal-header {
    padding: 20px;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #f8f9fa;
    border-radius: 8px 8px 0 0;
}

.modal-header h3 {
    margin: 0;
    color: var(--primary);
    font-size: 24px;
}

.modal-body {
    padding: 20px;
}

.close {
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
    background: none;
    border: none;
    padding: 0;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
}

/* Quiz Question Styles */
.quiz-question {
    margin-bottom: 30px;
}

.quiz-question h4 {
    margin-bottom: 20px;
    color: var(--primary);
    font-size: 20px;
    text-align: center;
}

.quiz-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.quiz-option {
    padding: 15px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    background: white;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    font-size: 14px;
    font-weight: 500;
}

.quiz-option:hover {
    border-color: var(--primary);
    background: #f8f9ff;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.quiz-option i {
    display: block;
    font-size: 24px;
    margin-bottom: 8px;
    color: var(--primary);
}

/* Quiz Results Styles */
#quizResults {
    text-align: center;
    padding: 20px;
}

#quizResults h3 {
    color: var(--primary);
    margin-bottom: 15px;
    font-size: 24px;
}

#quizResults p {
    margin: 20px 0;
    color: #666;
    font-size: 16px;
    line-height: 1.5;
}

#quizResults .recommendations {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    border-left: 4px solid var(--primary);
}

#quizResults h4 {
    color: var(--primary);
    margin-bottom: 15px;
}

#quizResults ul {
    text-align: left;
    margin: 10px 0;
    padding-left: 20px;
}

#quizResults li {
    margin: 8px 0;
    color: #555;
}

/* Button Styles */
.btn {
    display: inline-block;
    padding: 12px 24px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s;
    text-align: center;
}

.btn-primary {
    background: var(--primary);
    color: white;
}

.btn-primary:hover {
    background: var(--primary-dark, #0056b3);
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.btn-outline {
    background: transparent;
    border: 1px solid var(--primary);
    color: var(--primary);
}

.btn-outline:hover {
    background: var(--primary);
    color: white;
}

/* Chat Message Styles */
.chat-message {
    margin: 10px 0;
    padding: 10px;
    border-radius: 8px;
}

/* FAQ Styles */
.faq-container {
    max-height: 400px;
    overflow-y: auto;
    /* Add some general styling for the scrollbar if desired */
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: #ccc #f1f1f1; /* Firefox */
}

.faq-container::-webkit-scrollbar {
    width: 8px; /* WebKit */
}

.faq-container::-webkit-scrollbar-track {
    background: #f1f1f1; /* WebKit */
}

.faq-container::-webkit-scrollbar-thumb {
    background: #ccc; /* WebKit */
    border-radius: 4px;
}

.faq-item {
    border-bottom: 1px solid #e0e0e0;
    margin-bottom: 10px;
}

.faq-question {
    width: 100%;
    padding: 15px;
    border: none;
    background: none;
    text-align: left;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 500;
      font-weight: bold;
    font-size: 16px;
    color: #333; /* Ensure text color is visible */
}


.faq-question:hover {
    background: #f8f9fa;
}

/* --- CORRECTED FAQ ANSWER STYLES --- */
.faq-answer {
    /* Always display block so max-height and padding transitions can work */
    display: block;
    max-height: 0; /* Hidden by default with 0 height */
    overflow: hidden; /* Hide overflowing content */
    padding: 0 15px; /* Initial padding when closed (top/bottom 0) */
    color: #666;
    /* Smooth transition for max-height and padding */
    transition: max-height 0.3s ease-out, padding 0.3s ease-out;
}

/* This rule ensures correct padding when the answer is expanded by JS */
/* The JS will set max-height to scrollHeight and padding-bottom to 15px */
.faq-answer p:last-child {
    margin-bottom: 0; /* Remove extra margin from last paragraph if it causes issues */
}

.faq-answer ul {
    margin: 10px 0;
    padding-left: 20px;
}

/* General button styles (assuming these are shared) */
.btn-primary {
    background: var(--primary, #007bff); /* Use a default if --primary isn't defined */
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background 0.3s ease;
}

.btn-primary:hover {
    background: var(--primary-dark, #0056b3);
}

.btn-outline {
    background: transparent;
    border: 1px solid var(--primary, #007bff);
    color: var(--primary, #007bff);
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background 0.3s ease, color 0.3s ease;
}

.btn-outline:hover {
    background: var(--primary, #007bff);
    color: white;
}

/* Modal Specific Styles (if not already defined) */
.modal {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    opacity: 0; /* Start hidden for transition */
    visibility: hidden; /* Start hidden for transition */
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal.active {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 0; /* Remove default padding as header/body have their own */
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    animation: slideIn 0.3s ease-out forwards; /* Optional: add entry animation */
    max-height: 90vh; /* Limit content height */
    display: flex;
    flex-direction: column;
}

.modal-header {
    padding: 15px 20px;
    background-color: var(--primary, #f2f2f2);
    color: #333; /* Adjust header text color */
    border-bottom: 1px solid #eee;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    margin: 0;
    font-size: 24px;
}

.modal-body {
    padding: 20px;
    overflow-y: auto; /* Allow scrolling for modal content if it overflows */
    flex-grow: 1; /* Allow body to take available space */
}

.close {
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close:hover,
.close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}


/* Responsive Design */
@media (max-width: 768px) {
    .modal-content {
        width: 95%;
        margin: 10px auto;
        /* max-width: none; removed as 95% width handles it */
    }

    .modal-header h3 {
        font-size: 20px;
    }

    /* quiz-options and quiz-option styles were from previous context,
       ensure they are relevant to your final project. */
    .quiz-options {
        grid-template-columns: 1fr;
    }

    .quiz-option {
        padding: 20px;
    }
}

/* Customer Stories Specific Styles */
.customer-stories-container {
    padding: 10px 0;
    max-height: 400px; /* Limit height and make scrollable if many stories */
    overflow-y: auto;
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: #ccc #f1f1f1; /* Firefox */
}

.customer-stories-container::-webkit-scrollbar {
    width: 8px; /* WebKit */
}

.customer-stories-container::-webkit-scrollbar-track {
    background: #f1f1f1; /* WebKit */
}

.customer-stories-container::-webkit-scrollbar-thumb {
    background: #ccc; /* WebKit */
    border-radius: 4px;
}

.customer-story-item {
    background-color: #f9f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.customer-story-item:last-child {
    margin-bottom: 0; /* No bottom margin for the last item */
}

.story-message {
    font-style: italic;
    margin-bottom: 10px;
    line-height: 1.5;
    color: #555;
}

.story-author {
    text-align: right;
    font-size: 0.9em;
    color: #777;
}

.story-author strong {
    color: #333;
}

.story-time {
    font-size: 0.8em;
    color: #999;
}

/* Slideshow Container */
.slideshow-container {
    position: relative;
    max-width: 100%; /* Ensures it fits within the modal-body */
    margin: auto;
    overflow: hidden; /* Important for hiding off-screen slides */
}

/* Individual Slides */
.gallery-slide {
    display: none; /* Hidden by default */
    text-align: center;
    background-color: #f0f0f0; /* Placeholder background */
    width: 100%;
}

.gallery-slide img {
    width: 100%;
    height: auto;
    display: block; /* Remove extra space below image */
    max-height: 500px; /* Limit max height of images */
    object-fit: contain; /* Ensure image fits without cropping */
}

.gallery-slide.active {
    display: block; /* Show active slide */
}

/* Next & previous buttons */
.prev, .next {
    cursor: pointer;
    position: absolute;
    top: 50%;
    width: auto;
    padding: 16px;
    margin-top: -22px;
    color: white;
    font-weight: bold;
    font-size: 18px;
    transition: 0.6s ease;
    border-radius: 0 3px 3px 0;
    user-select: none;
    background-color: rgba(0,0,0,0.5); /* Semi-transparent background */
}

/* Position the "next button" to the right */
.next {
    right: 0;
    border-radius: 3px 0 0 3px;
}

/* On hover, add a black background with a little more opacity */
.prev:hover, .next:hover {
    background-color: rgba(0,0,0,0.8);
}

/* The dots/bullets/indicators */
.dot {
    cursor: pointer;
    height: 15px;
    width: 15px;
    margin: 0 2px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
    transition: background-color 0.6s ease;
}

.dot.active, .dot:hover {
    background-color: #717171;
}

/* Fading animation */
.fade {
    animation-name: fade;
    animation-duration: 1.5s;
}

@keyframes fade {
    from {opacity: .4}
    to {opacity: 1}
}

/* Responsive Video Container */
.video-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio (height / width = 9 / 16 = 0.5625) */
    height: 0;
    overflow: hidden;
    max-width: 100%;
    background: #000; /* Black background for video player */
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* Article Specific Styles */
.articles-container {
    max-height: 500px; /* Limit height and make scrollable if content overflows */
    overflow-y: auto;
    padding-right: 15px; /* Add some padding for scrollbar */
    scrollbar-width: thin; /* Firefox */
    scrollbar-color: #ccc #f1f1f1; /* Firefox */
}

.articles-container::-webkit-scrollbar {
    width: 8px; /* WebKit */
}

.articles-container::-webkit-scrollbar-track {
    background: #f1f1f1; /* WebKit */
}

.articles-container::-webkit-scrollbar-thumb {
    background: #ccc; /* WebKit */
    border-radius: 4px;
}

.article-item {
    margin-bottom: 25px; /* Space between articles */
}

.article-item h4 {
    font-size: 1.3em;
    color: #333;
    margin-bottom: 10px;
    font-weight: 600;
}

.article-content p {
    line-height: 1.6;
    margin-bottom: 1em;
    color: #555;
}

.article-separator {
    border: 0;
    height: 1px;
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0));
    margin: 30px 0;
}
    </style>
</head>

<body>
   <header class="header">
    <div class="header-top">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center;">
            <span>Free delivery on orders above â‚¦50,000 | WhatsApp: +2348034015709</span>
            <span style="font-weight: bold;">Welcome Group16</span>
        </div>
    </div>

    <div class="header-main">
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" onclick="showPage('home')">
                    <i class="fas fa-home"></i>
                    <span>HomeVibe</span>
                </a>

                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Search for furniture, decor, and more..."
                        id="searchInput">
                    <button class="search-btn" onclick="performSearch()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>

                <div class="header-actions">
                    <button class="header-action" onclick="showPage('personalise')" title="My Account">
                        <i class="fas fa-user"></i>
                    </button>
                    <button class="header-action" onclick="toggleWishlist()" title="Wishlist">
                        <i class="fas fa-heart"></i>
                        <span class="badge" id="wishlistCount">0</span>
                    </button>
                    <button class="header-action" onclick="toggleCart()" title="Shopping Cart">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="badge" id="cartCount">0</span>
                    </button>
                    <button class="header-action mobile-menu-btn" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="#" class="nav-item active" onclick="showPage('home')">Home</a>
                <a href="#" class="nav-item" onclick="showPage('shop')">Shop</a>
                <a href="#" class="nav-item" onclick="showPage('diy')">DIY Tutorials</a>
                <a href="#" class="nav-item" onclick="showPage('community')">Community</a>
                <a href="#" class="nav-item" onclick="showPage('ar-designer')">AR Room Designer</a>
                <a href="#" class="nav-item" onclick="showPage('support')">Support</a>
                <!-- New Quiz Button -->
                <a href="javascript:void(0);" class="nav-item" onclick="startStyleQuiz()">ðŸŽ¯ Take Style Quiz</a>

            </div>
        </div>
    </nav>
</header>


    <!-- Main Content -->
    <main class="main">
        <!-- Home Page -->
        <div id="home" class="page active">
            <!-- Hero Section -->
            <section class="hero">
                <div class="container">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1>Transform Your Space, Transform Your Life</h1>
                            <p>Discover affordable, stylish home essentials perfect for your first home. Quality
                                furniture and decor that won't break the bank.</p>
                            <div class="hero-cta">
                                <a href="#" class="btn btn-primary" onclick="showPage('shop')">
                                    <i class="fas fa-shopping-bag"></i>
                                    Shop Now
                                </a>
                                <a href="#" class="btn btn-secondary" onclick="showPage('diy')">
                                    <i class="fas fa-play"></i>
                                    Watch DIY Tutorials
                                </a>
                            </div>
                        </div>
                        <div class="hero-visual">
                            <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=600&h=400&fit=crop"
                                alt="Beautiful Home Setup" class="hero-image">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="features">
                <div class="container">
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-truck"></i>
                            </div>
                            <h3>Free Delivery</h3>
                            <p>Free delivery across Lagos, Abuja, Port Harcourt and other major cities in Nigeria.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h3>Quality Guarantee</h3>
                            <p>All products come with our quality guarantee. If you're not satisfied, we'll make it
                                right.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <h3>Easy Payment</h3>
                            <p>Pay with Paystack, Flutterwave, bank transfer, USSD, or cash on delivery.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <h3>Community Support</h3>
                            <p>Join our community of home decorators. Get tips, share ideas, and get inspired.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Categories Section -->
            <section class="categories">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Shop by Category</h2>
                        <p class="section-subtitle">Find everything you need to make your house a home</p>
                    </div>
                    <div class="categories-grid">
                        <div class="category-card" onclick="showCategory('living-room')">
                            <div class="category-icon">
                                <i class="fas fa-couch"></i>
                            </div>
                            <h3 class="category-name">Living Room</h3>
                            <p class="category-count">120+ Products</p>
                        </div>
                        <div class="category-card" onclick="showCategory('kitchen')">
                            <div class="category-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <h3 class="category-name">Kitchen</h3>
                            <p class="category-count">85+ Products</p>
                        </div>
                        <div class="category-card" onclick="showCategory('bedroom')">
                            <div class="category-icon">
                                <i class="fas fa-bed"></i>
                            </div>
                            <h3 class="category-name">Bedroom</h3>
                            <p class="category-count">95+ Products</p>
                        </div>
                        <div class="category-card" onclick="showCategory('home-office')">
                            <div class="category-icon">
                                <i class="fas fa-laptop-house"></i>
                            </div>
                            <h3 class="category-name">Home Office</h3>
                            <p class="category-count">60+ Products</p>
                        </div>
                        <div class="category-card" onclick="showCategory('essentials')">
                            <div class="category-icon">
                                <i class="fas fa-home"></i>
                            </div>
                            <h3 class="category-name">Home Essentials</h3>
                            <p class="category-count">150+ Products</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Products -->
            <section class="features" style="background: var(--bg-light);">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Featured Products</h2>
                        <p class="section-subtitle">Hand-picked items perfect for your first home</p>
                    </div>
                    <div class="product-grid" id="featuredProducts">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </section>
        </div>

        <!-- Shop Page -->
        <div id="shop" class="page">
            <section style="padding: 40px 0; background: var(--bg-white);">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Shop All Products</h2>
                        <p class="section-subtitle">Discover our full range of affordable home essentials</p>
                    </div>

                    <!-- Filter Bar -->
                    <div style="display: flex; gap: 20px; margin-bottom: 40px; flex-wrap: wrap; align-items: center;">
                        <select id="categoryFilter" onchange="filterProducts()"
                            style="padding: 10px 15px; border: 2px solid var(--border-color); border-radius: 8px;">
                            <option value="">All Categories</option>
                            <option value="living-room">Living Room</option>
                            <option value="kitchen">Kitchen</option>
                            <option value="bedroom">Bedroom</option>
                            <option value="home-office">Home Office</option>
                            <option value="essentials">Home Essentials</option>
                        </select>
                        <select id="priceFilter" onchange="filterProducts()"
                            style="padding: 10px 15px; border: 2px solid var(--border-color); border-radius: 8px;">
                            <option value="">All Prices</option>
                            <option value="0-10000">Under â‚¦10,000</option>
                            <option value="10000-25000">â‚¦10,000 - â‚¦25,000</option>
                            <option value="25000-50000">â‚¦25,000 - â‚¦50,000</option>
                            <option value="50000+">Above â‚¦50,000</option>
                        </select>
                        <select id="sortFilter" onchange="filterProducts()"
                            style="padding: 10px 15px; border: 2px solid var(--border-color); border-radius: 8px;">
                            <option value="name">Sort by Name</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Best Rated</option>
                        </select>
                    </div>

                    <div class="product-grid" id="allProducts">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </section>
        </div>

        <!-- DIY Tutorials Page -->
<div id="diy" class="page">
    <section style="padding: 40px 0; background: var(--bg-white);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">DIY Tutorials</h2>
                <p class="section-subtitle">Learn to decorate and organize your space like a pro</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                <div class="feature-card">
                    <div class="feature-icon" style="background: var(--gradient-secondary);">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>Small Space Organization</h3>
                    <p>Learn how to maximize storage in small Nigerian apartments with creative DIY solutions.</p>
                    <a href="https://www.youtube.com/watch?v=Lp3Z8jJBzpI" target="_blank" class="btn btn-primary" style="margin-top: 20px;">Watch Now</a>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: var(--gradient-secondary);">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>Budget Decorating Tips</h3>
    <p>Transform your space without breaking the bank. Nigerian-friendly decorating hacks.</p>
    <button class="btn btn-primary" style="margin-top: 20px;" onclick="showBudgetTipsModal()">Read Article</button>
                </div>
                <div class="feature-card">
                    <div class="feature-icon" style="background: var(--gradient-secondary);">
                        <i class="fas fa-tools"></i>
                    </div>
                     <h3>Basic Furniture Assembly</h3>
    <p>Step-by-step guides for assembling your new furniture safely and efficiently.</p>
    <button class="btn btn-primary" style="margin-top: 20px;" onclick="showVideoTutorialModal()">Watch Tutorial</button>
                </div>
            </div>
        </div>
    </section>
</div>

        <!-- Community Page -->
<div id="community" class="page">
    <section style="padding: 40px 0; background: var(--bg-white);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">HomeVibe Community</h2>
                <p class="section-subtitle">Connect, share, and get inspired by fellow home decorators</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Discussion Forums</h3>
                    <p>Join conversations about home decorating, share tips, and get advice from the community.</p>
                    <a href="https://www.reddit.com/r/HomeDecorating/" target="_blank" class="btn btn-primary" style="margin-top: 20px;">Join Discussion</a>
                </div>
                <div class="feature-card">
    <div class="feature-icon">
        <i class="fas fa-camera"></i>
    </div>
    <h3>Photo Gallery</h3>
    <p>Share photos of your decorated spaces and get inspired by others' beautiful homes.</p>
    <button class="btn btn-primary" style="margin-top: 20px;" onclick="showPhotoGalleryModal()">View Gallery</button>
</div>
                <div class="feature-card">
    <div class="feature-icon">
        <i class="fas fa-star"></i>
    </div>
    <h3>Customer Stories</h3>
    <p>Read real stories from customers who transformed their homes with HomeVibe products.</p>
    <button class="btn btn-primary" style="margin-top: 20px;" onclick="showCustomerStoriesModal()">Read Stories</button>
</div>
            </div>
        </div>
    </section>
</div>

        <!-- AR Room Designer Page -->
        <div id="ar-designer" class="page">
            <section style="padding: 40px 0; background: var(--bg-white);">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">AR Room Designer</h2>
                        <p class="section-subtitle">Visualize furniture in your space before you buy</p>
                    </div>

                    <div
                        style="text-align: center; padding: 60px 20px; background: var(--bg-light); border-radius: 20px;">
                        <div class="feature-icon" style="margin: 0 auto 30px; background: var(--gradient-secondary);">
                            <i class="fas fa-cube"></i>
                        </div>
                        <h3 style="margin-bottom: 20px;">Coming Soon!</h3>
                        <p style="margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                            Our AR Room Designer will let you place virtual furniture in your real space using your
                            phone's camera.
                            Sign up to be notified when it launches!
                        </p>
                        <div
                            style="display: flex; gap: 10px; justify-content: center; max-width: 400px; margin: 0 auto;">
                            <input type="email" placeholder="Enter your email" id="arEmailInput"
                                style="flex: 1; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px;">
                            <button class="btn btn-primary" onclick="subscribeToAR()">Notify Me</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Personalise Page -->
<div id="personalise" class="page">
    <section style="padding: 40px 0; background: var(--bg-white);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Your Personal Space</h2>
                <p class="section-subtitle">Customize your shopping experience</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3>My Account</h3>
                    <p>Manage your profile, orders, and preferences in one place.</p>
                    <a href="#" class="btn btn-primary" style="margin-top: 20px;" onclick="showLogin()">Sign In</a>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>My Wishlist</h3>
                    <p>Save your favorite items and get notified when they go on sale.</p>
                    <a href="#" class="btn btn-primary" style="margin-top: 20px;" onclick="toggleWishlist()">View Wishlist</a>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI Recommendations</h3>
                    <p>Get smart product suggestions based on your preferences and browsing history.</p>
                    <a href="#" class="btn btn-primary" style="margin-top: 20px;" onclick="showAIRecommendations()">View Recommendations</a>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Recommendations Modal -->
    <div id="aiRecommendationsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3>AI Recommendations</h3>
                <span class="close" onclick="closeAIRecommendations()">&times;</span>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px;">Based on current trends and popular choices, here are some recommendations for you:</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div class="recommendation-card" style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="background: #f8f9fa; height: 150px; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                            <i class="fas fa-couch" style="font-size: 3em; color: var(--primary);"></i>
                        </div>
                        <h4>Modern Sofas</h4>
                        <p style="font-size: 0.9em; color: #666;">Comfortable and stylish seating options</p>
                        <button class="btn btn-primary btn-sm" onclick="showToast('Added to recommendations!', 'success')">View Details</button>
                    </div>
                    
                    <div class="recommendation-card" style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="background: #f8f9fa; height: 150px; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                            <i class="fas fa-lightbulb" style="font-size: 3em; color: var(--primary);"></i>
                        </div>
                        <h4>LED Lighting</h4>
                        <p style="font-size: 0.9em; color: #666;">Energy-efficient ambient lighting</p>
                        <button class="btn btn-primary btn-sm" onclick="showToast('Added to recommendations!', 'success')">View Details</button>
                    </div>
                    
                    <div class="recommendation-card" style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="background: #f8f9fa; height: 150px; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                            <i class="fas fa-leaf" style="font-size: 3em; color: var(--primary);"></i>
                        </div>
                        <h4>Indoor Plants</h4>
                        <p style="font-size: 0.9em; color: #666;">Bring nature into your home</p>
                        <button class="btn btn-primary btn-sm" onclick="showToast('Added to recommendations!', 'success')">View Details</button>
                    </div>
                    
                    <div class="recommendation-card" style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="background: #f8f9fa; height: 150px; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
                            <i class="fas fa-mirror" style="font-size: 3em; color: var(--primary);"></i>
                        </div>
                        <h4>Wall Mirrors</h4>
                        <p style="font-size: 0.9em; color: #666;">Create illusion of space and light</p>
                        <button class="btn btn-primary btn-sm" onclick="showToast('Added to recommendations!', 'success')">View Details</button>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                    <h4 style="margin-bottom: 10px;">ðŸ’¡ Pro Tip</h4>
                    <p style="margin: 0; font-size: 0.9em;">Mix textures and colors to create visual interest. Consider your room's natural light when choosing colors!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function showAIRecommendations() {
    document.getElementById('aiRecommendationsModal').style.display = 'block';
    document.body.style.overflow = 'hidden';
}

function closeAIRecommendations() {
    document.getElementById('aiRecommendationsModal').style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Close modal when clicking outside of it
window.addEventListener('click', function(event) {
    const modal = document.getElementById('aiRecommendationsModal');
    if (event.target === modal) {
        closeAIRecommendations();
    }
});
</script>

<style>
.modal {
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.modal-content {
    background-color: white;
    border-radius: 12px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.modal-header {
    padding: 20px 30px;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    margin: 0;
    color: var(--primary);
}

.close {
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
    color: #aaa;
    transition: color 0.3s;
}

.close:hover {
    color: var(--primary);
}

.modal-body {
    padding: 30px;
}

.btn-sm {
    padding: 8px 16px;
    font-size: 0.85em;
}

@media (max-width: 768px) {
    .modal-content {
        margin: 10px;
        max-height: 95vh;
    }
    
    .modal-header, .modal-body {
        padding: 20px;
    }
}
</style>
        <!-- Support Page -->
        <div id="support" class="page">
            <section style="padding: 40px 0; background: var(--bg-white);">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Customer Support</h2>
                        <p class="section-subtitle">We're here to help you every step of the way</p>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 40px;">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3>Chat with AI Assistant</h3>
                            <p>Get instant answers to common questions about products, orders, and delivery.</p>
                            <a href="#" class="btn btn-primary" style="margin-top: 20px;" onclick="openChatbot()">Start
                                Chat</a>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" style="background: #25d366;">
                                <i class="fab fa-whatsapp"></i>
                            </div>
                            <h3>WhatsApp Support</h3>
                            <p>Chat with our support team directly on WhatsApp for personalized assistance.</p>
                            <a href="https://wa.me/2348123456789" class="btn btn-primary"
                                style="margin-top: 20px; background: #25d366;" target="_blank">Chat on WhatsApp</a>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-question-circle"></i>
                            </div>
                            <h3>FAQ</h3>
                            <p>Find quick answers to frequently asked questions about our products and services.</p>
                            <a href="#" class="btn btn-primary" style="margin-top: 20px;" onclick="showFAQ()">View
                                FAQ</a>
                        </div>
                    </div>

                    <!-- Order Tracking -->
                    <div style="background: var(--bg-light); padding: 40px; border-radius: 20px;">
                        <h3 style="text-align: center; margin-bottom: 30px;">Track Your Order</h3>
                        <div style="display: flex; gap: 15px; max-width: 500px; margin: 0 auto;">
                            <input type="text" id="trackingInput" placeholder="Enter your order number"
                                style="flex: 1; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px;">
                            <button class="btn btn-primary" onclick="trackOrder()">Track Order</button>
                        </div>
                        <div id="trackingResult" style="margin-top: 20px; text-align: center;"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Shopping Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="cart-close" onclick="toggleCart()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cartItems">
            <div style="text-align: center; padding: 40px 20px; color: var(--text-gray);">
                <i class="fas fa-shopping-cart" style="font-size: 48px; margin-bottom: 20px; opacity: 0.5;"></i>
                <p>Your cart is empty</p>
                <p style="font-size: 14px; margin-top: 10px;">Add some products to get started!</p>
            </div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">â‚¦0</span>
            </div>
            <button class="btn btn-primary" style="width: 100%;" onclick="goToCheckout()">
                <i class="fas fa-lock"></i>
                Secure Checkout
            </button>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div class="modal" id="wishlistModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>My Wishlist</h3>
                <button class="modal-close" onclick="closeModal('wishlistModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="wishlistItems">
                <div style="text-align: center; padding: 40px 20px; color: var(--text-gray);">
                    <i class="fas fa-heart" style="font-size: 48px; margin-bottom: 20px; opacity: 0.5;"></i>
                    <p>Your wishlist is empty</p>
                    <p style="font-size: 14px; margin-top: 10px;">Add some products to your wishlist!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="closeAllModals()"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Shop</h4>
                    <ul>
                        <li><a href="#" onclick="showCategory('living-room')">Living Room</a></li>
                        <li><a href="#" onclick="showCategory('kitchen')">Kitchen</a></li>
                        <li><a href="#" onclick="showCategory('bedroom')">Bedroom</a></li>
                        <li><a href="#" onclick="showCategory('home-office')">Home Office</a></li>
                        <li><a href="#" onclick="showCategory('essentials')">Home Essentials</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Customer Care</h4>
                    <ul>
                        <li><a href="#" onclick="showPage('support')">Contact Us</a></li>
                        <li><a href="#" onclick="showFAQ()">FAQ</a></li>
                        <li><a href="#" onclick="showToast('Returns page coming soon!', 'info')">Returns & Refunds</a></li>
                        <li><a href="#" onclick="showToast('Shipping info coming soon!', 'info')">Shipping Info</a></li>
                        <li><a href="#" onclick="showToast('Click & Collect coming soon!', 'info')">Click & Collect</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>About</h4>
                    <ul>
                        <li><a href="#" onclick="showToast('About page coming soon!', 'info')">About HomeVibe</a></li>
                        <li><a href="#" onclick="showPage('community')">Community</a></li>
                        <li><a href="#" onclick="showPage('diy')">DIY Tutorials</a></li>
                        <li><a href="#" onclick="showToast('Careers page coming soon!', 'info')">Careers</a></li>
                        <li><a href="#" onclick="showToast('Press page coming soon!', 'info')">Press</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Payment Methods</h4>
                    <div class="payment-methods">
                        <div class="payment-method">Paystack</div>
                        <div class="payment-method">Flutterwave</div>
                        <div class="payment-method">Card</div>
                        <div class="payment-method">USSD</div>
                        <div class="payment-method">Bank Transfer</div>
                        <div class="payment-method">Cash on Delivery</div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 HomeVibe. All rights reserved. | <a href="#" onclick="showToast('Privacy policy coming soon!', 'info')">Privacy Policy</a> | <a href="#" onclick="showToast('Terms coming soon!', 'info')">Terms of
                        Service</a> | <a href="#" onclick="showToast('Accessibility page coming soon!', 'info')">Accessibility</a></p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Float Button -->
    <a href="https://wa.me/2348034015709" class="whatsapp-float" target="_blank" title="Chat on WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Toast Notifications -->
    <div class="toast" id="toast"></div>

    <script>
        // Application State
        let appState = {
            currentPage: 'home',
            cart: [],
            wishlist: [],
            products: [],
            filteredProducts: [],
            user: null,
            cartTotal: 0
        };

        // Sample Products Data
        const sampleProducts = [
            {
                id: 1,
                name: "Modern 3-Seater Sofa",
                price: 45000,
                category: "living-room",
                image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=300&h=200&fit=crop",
                rating: 4.5,
                reviews: 28,
                description: "Comfortable and stylish sofa perfect for your living room"
            },
            {
                id: 2,
                name: "Coffee Table Set",
                price: 15000,
                category: "living-room",
                image: "https://images.unsplash.com/photo-1449247709967-d4461a6a103?w=300&h=200&fit=crop",
                rating: 4.2,
                reviews: 15,
                description: "Elegant coffee table with matching side tables"
            },
            {
                id: 3,
                name: "Queen Size Bed Frame",
                price: 35000,
                category: "bedroom",
                image: "https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?w=300&h=200&fit=crop",
                rating: 4.7,
                reviews: 42,
                description: "Sturdy wooden bed frame with modern design"
            },
            {
                id: 4,
                name: "Office Chair",
                price: 12000,
                category: "home-office",
                image: "https://images.unsplash.com/photo-1506439773649-6e0eb8cfb237?w=300&h=200&fit=crop",
                rating: 4.3,
                reviews: 33,
                description: "Ergonomic office chair for comfortable working"
            },
            {
                id: 5,
                name: "Table Lamp",
                price: 5500,
                category: "living-room",
                image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop",
                rating: 4.1,
                reviews: 19,
                description: "Modern table lamp with adjustable brightness"
            },
            {
                id: 6,
                name: "Cookware Set",
                price: 8000,
                category: "kitchen",
                image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=300&h=200&fit=crop",
                rating: 4.6,
                reviews: 51,
                description: "Complete non-stick cookware set for your kitchen"
            },
            {
                id: 7,
                name: "Wardrobe",
                price: 55000,
                category: "bedroom",
                image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=200&fit=crop",
                rating: 4.4,
                reviews: 22,
                description: "Spacious wardrobe with multiple compartments"
            },
            {
                id: 8,
                name: "Dining Table",
                price: 28000,
                category: "kitchen",
                image: "https://images.unsplash.com/photo-1449247709967-d4461a6a103?w=300&h=200&fit=crop",
                rating: 4.5,
                reviews: 37,
                description: "4-seater dining table perfect for families"
            },
            {
                id: 9,
                name: "Reading Chair",
                price: 18000,
                category: "living-room",
                image: "https://images.unsplash.com/photo-1506439773649-6e0eb8cfb237?w=300&h=200&fit=crop",
                rating: 4.3,
                reviews: 29,
                description: "Comfortable reading chair for your living space"
            },
            {
                id: 10,
                name: "Kitchen Storage Set",
                price: 6500,
                category: "kitchen",
                image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=300&h=200&fit=crop",
                rating: 4.4,
                reviews: 18,
                description: "Organized storage containers for your kitchen"
            }
        ];

        // Initialize App
        function initApp() {
            appState.products = sampleProducts;
            appState.filteredProducts = [...sampleProducts];
            loadFeaturedProducts();
            loadAllProducts();
            updateCartUI();
            updateWishlistUI();
            
            // Add search functionality
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
        }

        // Navigation Functions
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                appState.currentPage = pageId;
            }

            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Find and activate the corresponding nav item
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                if (item.getAttribute('onclick') && item.getAttribute('onclick').includes(pageId)) {
                    item.classList.add('active');
                }
            });

            // Close mobile menu if open
            closeMobileMenu();

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showCategory(category) {
            showPage('shop');
            const categoryFilter = document.getElementById('categoryFilter');
            if (categoryFilter) {
                categoryFilter.value = category;
                filterProducts();
            }
        }

        // Mobile Menu Functions
        function toggleMobileMenu() {
            const nav = document.querySelector('.nav');
            if (nav) {
                nav.style.display = nav.style.display === 'block' ? 'none' : 'block';
            }
        }

        function closeMobileMenu() {
            const nav = document.querySelector('.nav');
            if (nav && window.innerWidth <= 768) {
                nav.style.display = 'none';
            }
        }

        // Product Functions
        function loadFeaturedProducts() {
            const container = document.getElementById('featuredProducts');
            if (!container) return;
            
            const featuredProducts = appState.products.slice(0, 6);
            container.innerHTML = featuredProducts.map(product => createProductCard(product)).join('');
        }

        function loadAllProducts() {
            const container = document.getElementById('allProducts');
            if (!container) return;
            
            container.innerHTML = appState.filteredProducts.map(product => createProductCard(product)).join('');
        }

        function createProductCard(product) {
            const isInWishlist = appState.wishlist.some(item => item.id === product.id);
            return `
                <div class="product-card">
                    <button class="wishlist-btn ${isInWishlist ? 'active' : ''}" onclick="toggleWishlistItem(${product.id})">
                        <i class="fas fa-heart"></i>
                    </button>
                    <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='data:image/jpeg;base64,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'">
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <div class="product-price">â‚¦${product.price.toLocaleString()}</div>
                        <div class="product-rating">
                            <div class="stars">
                                ${generateStars(product.rating)}
                            </div>
                            <span class="rating-text">(${product.reviews} reviews)</span>
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-primary btn-small" onclick="addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i>
                                Add to Cart
                            </button>
                            <button class="btn btn-secondary btn-small" onclick="quickView(${product.id})">
                                <i class="fas fa-eye"></i>
                                View
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;

            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }

            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }

            const emptyStars = 5 - Math.ceil(rating);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }

            return stars;
        }

        // Search and Filter Functions
        function performSearch() {
            const searchInput = document.getElementById('searchInput');
            if (!searchInput) return;
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            if (!searchTerm) {
                showToast('Please enter a search term', 'error');
                return;
            }

            // Filter products based on search term
            const filteredProducts = appState.products.filter(product =>
                product.name.toLowerCase().includes(searchTerm) ||
                product.description.toLowerCase().includes(searchTerm) ||
                product.category.toLowerCase().includes(searchTerm)
            );

            if (filteredProducts.length === 0) {
                showToast(`No products found for "${searchTerm}"`, 'error');
                return;
            }

            // Show shop page with filtered results
            appState.filteredProducts = filteredProducts;
            showPage('shop');
            loadAllProducts();
            showToast(`Found ${filteredProducts.length} products for "${searchTerm}"`, 'success');
        }

        function filterProducts() {
            const categoryFilter = document.getElementById('categoryFilter');
            const priceFilter = document.getElementById('priceFilter');
            const sortFilter = document.getElementById('sortFilter');

            if (!categoryFilter || !priceFilter || !sortFilter) return;

            let filtered = [...appState.products];

            // Category filter
            const selectedCategory = categoryFilter.value;
            if (selectedCategory) {
                filtered = filtered.filter(product => product.category === selectedCategory);
            }

            // Price filter
            const selectedPrice = priceFilter.value;
            if (selectedPrice) {
                const [min, max] = selectedPrice.includes('+') 
                    ? [parseInt(selectedPrice.replace('+', '')), Infinity]
                    : selectedPrice.split('-').map(p => parseInt(p));
                
                filtered = filtered.filter(product => 
                    product.price >= min && product.price <= max
                );
            }

            // Sort
            const selectedSort = sortFilter.value;
            switch (selectedSort) {
                case 'price-low':
                    filtered.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filtered.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filtered.sort((a, b) => b.rating - a.rating);
                    break;
                case 'name':
                default:
                    filtered.sort((a, b) => a.name.localeCompare(b.name));
                    break;
            }

            appState.filteredProducts = filtered;
            loadAllProducts();
        }

        // Cart Functions
        function addToCart(productId) {
            const product = appState.products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = appState.cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                appState.cart.push({
                    ...product,
                    quantity: 1
                });
            }

            updateCartUI();
            showToast(`${product.name} added to cart`, 'success');
        }

        function removeFromCart(productId) {
            appState.cart = appState.cart.filter(item => item.id !== productId);
            updateCartUI();
            showToast('Item removed from cart', 'success');
        }

        function updateCartQuantity(productId, newQuantity) {
            const item = appState.cart.find(item => item.id === productId);
            if (item && newQuantity > 0) {
                item.quantity = newQuantity;
                updateCartUI();
            } else if (item && newQuantity <= 0) {
                removeFromCart(productId);
            }
        }

        function updateCartUI() {
            const cartCount = appState.cart.reduce((total, item) => total + item.quantity, 0);
            const cartTotal = appState.cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            
            const cartCountElement = document.getElementById('cartCount');
            const cartTotalElement = document.getElementById('cartTotal');
            const cartItemsElement = document.getElementById('cartItems');

            if (cartCountElement) {
                cartCountElement.textContent = cartCount;
            }

            if (cartTotalElement) {
                cartTotalElement.textContent = `â‚¦${cartTotal.toLocaleString()}`;
            }

            if (cartItemsElement) {
                if (appState.cart.length === 0) {
                    cartItemsElement.innerHTML = `
                        <div style="text-align: center; padding: 40px 20px; color: var(--text-gray);">
                            <i class="fas fa-shopping-cart" style="font-size: 48px; margin-bottom: 20px; opacity: 0.5;"></i>
                            <p>Your cart is empty</p>
                            <p style="font-size: 14px; margin-top: 10px;">Add some products to get started!</p>
                        </div>
                    `;
                } else {
                    cartItemsElement.innerHTML = appState.cart.map(item => `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}" class="cart-item-image" onerror="this.src='data:image/jpeg;base64,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'">
                            <div class="cart-item-info">
                                <div class="cart-item-name">${item.name}</div>
                                <div class="cart-item-price">â‚¦${(item.price * item.quantity).toLocaleString()}</div>
                                <div class="cart-item-controls">
                                    <button class="qty-btn" onclick="updateCartQuantity(${item.id}, ${item.quantity - 1})">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <span style="margin: 0 10px; font-weight: 600;">${item.quantity}</span>
                                    <button class="qty-btn" onclick="updateCartQuantity(${item.id}, ${item.quantity + 1})">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                    <button class="qty-btn" onclick="removeFromCart(${item.id})" style="background: #ff4757; color: white; margin-left: 10px;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }

            appState.cartTotal = cartTotal;
        }

        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            const overlay = document.getElementById('overlay');
            
            if (cartSidebar && overlay) {
                cartSidebar.classList.toggle('active');
                overlay.classList.toggle('active');
            }
        }

// Assuming appState, showToast, and updateCartDisplay are defined elsewhere in your code

window.goToCheckout = function() {
    if (!appState.cart || appState.cart.length === 0) {
        showToast('ðŸš« Your cart is empty. Please add items before checking out.', 'error');
        return;
    }

    // Remove any existing checkout modal before creating a new one
    const existingModal = document.getElementById('checkoutModal');
    if (existingModal) {
        existingModal.remove();
    }

    let totalAmount = 0;
    const itemsHtml = appState.cart.map(item => {
        totalAmount += item.price * item.quantity;
        return `
            <li style="margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong>${item.name}</strong> Ã— ${item.quantity}
                </div>
                <div>
                    â‚¦${(item.price * item.quantity).toLocaleString()}
                </div>
            </li>
        `;
    }).join('');

    const checkoutModalHTML = `
        <div id="checkoutModal" style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999; /* Slightly lower than payment modal, but still high */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
        ">
            <div style="
                background: white;
                padding: 30px;
                border-radius: 12px;
                width: 90%;
                max-width: 550px; /* Adjust max-width as needed */
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
                position: relative;
                transform: translateY(-20px);
                transition: transform 0.3s ease-out;
                max-height: 90vh; /* Limit height for scrollable content */
                overflow-y: auto; /* Enable scrolling for long carts */
            ">
                <span onclick="closeCheckoutModal()" style="
                    position: absolute;
                    top: 15px;
                    right: 20px;
                    font-size: 30px;
                    cursor: pointer;
                    color: #888;
                    font-family: Arial, sans-serif;
                    line-height: 1;
                ">&times;</span>
                <h2 style="
                    margin-top: 0;
                    margin-bottom: 25px;
                    color: #333;
                    font-size: 2em;
                    text-align: center;
                    border-bottom: 1px solid #eee;
                    padding-bottom: 15px;
                ">ðŸ›’ Your Cart Summary</h2>

                <ul style="list-style: none; padding: 0; margin-bottom: 20px;">
                    ${itemsHtml}
                </ul>

                <div style="
                    margin-top: 1.5rem;
                    font-size: 1.5rem;
                    font-weight: bold;
                    text-align: right;
                    padding-top: 15px;
                    border-top: 1px solid #eee;
                    color: #007bff;
                ">
                    <strong>Total: â‚¦${totalAmount.toLocaleString()}</strong>
                </div>

                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 30px;">
                    <button type="button" onclick="closeCheckoutModal()" style="
                        padding: 12px 25px;
                        border: 1px solid #ccc;
                        border-radius: 8px;
                        background-color: #f0f0f0;
                        color: #555;
                        font-size: 1em;
                        cursor: pointer;
                        transition: background-color 0.2s ease, border-color 0.2s ease;
                    ">â¬… Continue Shopping</button>
                    <button type="button" onclick="showPaymentModal(${totalAmount})" style="
                        padding: 12px 25px;
                        border: none;
                        border-radius: 8px;
                        background-color: #28a745; /* Green for proceed */
                        color: white;
                        font-size: 1em;
                        cursor: pointer;
                        transition: background-color 0.2s ease;
                    ">ðŸ’³ Proceed to Payment</button>
                </div>
            </div>
        </div>
    `;

    document.body.insertAdjacentHTML('beforeend', checkoutModalHTML);
    document.body.style.overflow = 'hidden'; // Prevent body scroll

    const checkoutModalElement = document.getElementById('checkoutModal');
    if (checkoutModalElement) {
        setTimeout(() => {
            checkoutModalElement.style.opacity = '1';
            checkoutModalElement.style.visibility = 'visible';
            checkoutModalElement.querySelector('div:first-child').style.transform = 'translateY(0)';
        }, 10);
        showToast('âœ… Review your order before proceeding.', 'info');
    } else {
        console.error('Error: Checkout modal element not found after insertion.');
    }
}

window.closeCheckoutModal = function() {
    const modal = document.getElementById('checkoutModal');
    if (modal) {
        modal.style.opacity = '0';
        modal.style.visibility = 'hidden';
        modal.querySelector('div:first-child').style.transform = 'translateY(-20px)';

        setTimeout(() => {
            if (modal.parentNode) {
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scroll
        }, 300);
    }
};

// --- Self-contained Payment Modal Functions (no change needed) ---

window.showPaymentModal = function(totalAmount) {
    closeCheckoutModal(); // Close checkout modal when payment modal opens
    const existingModal = document.getElementById('paymentModal');
    if (existingModal) {
        existingModal.remove();
    }

    const paymentModalHTML = `
        <div id="paymentModal" style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Darker overlay */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000; /* High z-index to ensure it's on top */
            opacity: 0; /* Start hidden for transition */
            visibility: hidden; /* Start hidden for transition */
            transition: opacity 0.3s ease-out, visibility 0.3s ease-out; /* Smooth transition */
        ">
            <div style="
                background: white;
                padding: 25px;
                border-radius: 12px;
                width: 90%;
                max-width: 480px; /* Slightly larger for more content */
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2); /* Deeper shadow */
                position: relative; /* For close button positioning */
                transform: translateY(-20px); /* Slight lift for effect */
                transition: transform 0.3s ease-out; /* Transition for transform */
            ">
                <span onclick="closePaymentModal()" style="
                    position: absolute;
                    top: 15px;
                    right: 20px;
                    font-size: 28px;
                    cursor: pointer;
                    color: #888;
                    font-family: Arial, sans-serif;
                    line-height: 1; /* Adjust line-height for better centering */
                ">&times;</span>
                <h3 style="
                    margin-top: 0;
                    margin-bottom: 25px;
                    color: #333;
                    font-size: 1.8em;
                    text-align: center;
                ">ðŸ’³ Payment Details</h3>

                <p style="
                    text-align: center;
                    font-size: 1.3em;
                    margin-bottom: 30px;
                    color: #007bff;
                    font-weight: bold;
                    background: #e9f5ff; /* Light blue background for total */
                    padding: 12px;
                    border-radius: 8px;
                ">
                    Total Amount: â‚¦${totalAmount.toLocaleString()}
                </p>

                <form id="paymentForm">
                    <div style="margin-bottom: 18px;">
                        <label for="customerName" style="display: block; margin-bottom: 8px; font-weight: bold; color: #555;">Full Name:</label>
                        <input type="text" id="customerName" required placeholder="Your Full Name" style="
                            width: calc(100% - 24px);
                            padding: 12px;
                            border: 1px solid #ccc;
                            border-radius: 8px;
                            font-size: 1em;
                            box-sizing: border-box;
                        ">
                    </div>

                    <div style="margin-bottom: 18px;">
                        <label for="customerPhone" style="display: block; margin-bottom: 8px; font-weight: bold; color: #555;">Phone Number:</label>
                        <input type="tel" id="customerPhone" required placeholder="e.g., 08012345678" style="
                            width: calc(100% - 24px);
                            padding: 12px;
                            border: 1px solid #ccc;
                            border-radius: 8px;
                            font-size: 1em;
                            box-sizing: border-box;
                        ">
                    </div>

                    <div style="margin-bottom: 18px;">
                        <label for="customerEmail" style="display: block; margin-bottom: 8px; font-weight: bold; color: #555;">Email:</label>
                        <input type="email" id="customerEmail" required placeholder="your@email.com" style="
                            width: calc(100% - 24px);
                            padding: 12px;
                            border: 1px solid #ccc;
                            border-radius: 8px;
                            font-size: 1em;
                            box-sizing: border-box;
                        ">
                    </div>

                    <div style="margin-bottom: 18px;">
                        <label for="deliveryAddress" style="display: block; margin-bottom: 8px; font-weight: bold; color: #555;">Delivery Address:</label>
                        <textarea id="deliveryAddress" required rows="3" placeholder="Your street, city, state" style="
                            width: calc(100% - 24px);
                            padding: 12px;
                            border: 1px solid #ccc;
                            border-radius: 8px;
                            font-size: 1em;
                            box-sizing: border-box;
                            resize: vertical;
                        "></textarea>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <label for="paymentMethod" style="display: block; margin-bottom: 8px; font-weight: bold; color: #555;">Payment Method:</label>
                        <select id="paymentMethod" required style="
                            width: 100%;
                            padding: 12px;
                            border: 1px solid #ccc;
                            border-radius: 8px;
                            font-size: 1em;
                            background-color: white;
                            appearance: none; /* Remove default arrow */
                            -webkit-appearance: none;
                            -moz-appearance: none;
                            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20256%20512%22%3E%3Cpath%20fill%3D%22%23444%22%20d%3D%22M192%20384c-8.18%200-16.35-3.12-22.63-9.37l-128-128c-12.5-12.5-12.5-32.75%200-45.25s32.75-12.5%2045.25%200L192%20306.88l105.37-105.38c12.5-12.5%2032.75-12.5%2045.25%200s12.5%2032.75%200%2045.25l-128%20128C208.35%20380.88%20200.18%20384%20192%20384z%22%2F%3E%3C%2Fsvg%3E'); /* Custom arrow */
                            background-repeat: no-repeat;
                            background-position: right 15px center;
                            background-size: 1em;
                            cursor: pointer;
                        ">
                            <option value="">Select Payment Method</option>
                            <option value="card">ðŸ’³ Credit/Debit Card</option>
                            <option value="bank_transfer">ðŸ¦ Bank Transfer</option>
                            <option value="paystack">ðŸ’° Paystack</option>
                            <option value="cash_on_delivery">ðŸ’µ Cash on Delivery</option>
                        </select>
                    </div>
                </form>

                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
                    <button type="button" onclick="closePaymentModal(); showToast('Operation cancelled.', 'info');" style="
                        padding: 12px 25px;
                        border: 1px solid #ccc;
                        border-radius: 8px;
                        background-color: #f0f0f0;
                        color: #555;
                        font-size: 1em;
                        cursor: pointer;
                        transition: background-color 0.2s ease, border-color 0.2s ease;
                    ">âŒ Cancel</button>
                    <button type="button" id="confirmPaymentBtn" onclick="processPayment(${totalAmount})" style="
                        padding: 12px 25px;
                        border: none;
                        border-radius: 8px;
                        background-color: #007bff; /* Primary blue */
                        color: white;
                        font-size: 1em;
                        cursor: pointer;
                        transition: background-color 0.2s ease;
                    ">âœ… Confirm Payment</button>
                </div>
            </div>
        </div>
    `;

    document.body.insertAdjacentHTML('beforeend', paymentModalHTML);
    document.body.style.overflow = 'hidden'; // Still prevent body scroll

    const paymentModalElement = document.getElementById('paymentModal');
    if (paymentModalElement) {
        // Trigger the CSS transition by changing opacity and visibility after a short delay
        setTimeout(() => {
            paymentModalElement.style.opacity = '1';
            paymentModalElement.style.visibility = 'visible';
            paymentModalElement.querySelector('div:first-child').style.transform = 'translateY(0)'; // Reset transform for content
        }, 10); // Small delay to allow CSS to register initial state
        console.log('Self-contained payment modal displayed.');
    } else {
        console.error('Error: Payment modal element not found after insertion.');
    }
}

window.closePaymentModal = function() {
    const modal = document.getElementById('paymentModal');
    if (modal) {
        // Trigger CSS fade-out and transform back
        modal.style.opacity = '0';
        modal.style.visibility = 'hidden';
        modal.querySelector('div:first-child').style.transform = 'translateY(-20px)';

        // Remove from DOM after transition completes (0.3s)
        setTimeout(() => {
            if (modal.parentNode) {
                modal.remove();
            }
            // Do NOT re-enable body overflow here; it's handled by closeSuccessModal, or if you close directly from payment, re-enable
             document.body.style.overflow = 'auto'; // Re-enable if payment modal is closed without success modal
        }, 300);
    }
}

// --- Process Payment (remains largely the same, but calls self-contained modals) ---
window.processPayment = function(totalAmount) {
    const customerName = document.getElementById('customerName').value.trim();
    const customerPhone = document.getElementById('customerPhone').value.trim();
    const customerEmail = document.getElementById('customerEmail').value.trim();
    const deliveryAddress = document.getElementById('deliveryAddress').value.trim();
    const paymentMethod = document.getElementById('paymentMethod').value;

    if (!customerName || !customerPhone || !customerEmail || !deliveryAddress || !paymentMethod) {
        showToast('âŒ Please fill in all required fields.', 'error');
        return;
    }

    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(customerEmail)) {
        showToast('âŒ Please enter a valid email address.', 'error');
        return;
    }

    const order = {
        id: 'ORDER-' + Date.now().toString().slice(-6) + Math.random().toString(36).substring(2, 6).toUpperCase(),
        customerName,
        customerPhone,
        customerEmail,
        deliveryAddress,
        paymentMethod,
        items: [...appState.cart],
        totalAmount,
        orderDate: new Date().toLocaleString('en-NG'),
        status: 'pending'
    };

    const confirmBtn = document.getElementById('confirmPaymentBtn');
    const originalText = confirmBtn.textContent;
    confirmBtn.textContent = 'â³ Processing...';
    confirmBtn.disabled = true;

    showToast('â³ Processing your payment...', 'info');

    setTimeout(() => {
        const paymentSuccessful = Math.random() > 0.1;

        confirmBtn.textContent = originalText;
        confirmBtn.disabled = false;

        if (paymentSuccessful) {
            order.status = 'confirmed';
            if (!appState.orders) {
                appState.orders = [];
            }
            appState.orders.push(order);

            appState.cart = [];

            closePaymentModal(); // Close payment modal
            showSuccessModal(order); // Show success modal

            if (typeof updateCartDisplay === 'function') {
                updateCartDisplay();
            }
            showToast('ðŸŽ‰ Payment successful! Order placed.', 'success');
        } else {
            showToast('âŒ Payment failed. Please try again.', 'error');
        }
    }, 2000);
}

// --- Self-contained Success Modal Functions (no change needed) ---
window.showSuccessModal = function(order) {
    const existingModal = document.getElementById('successModal');
    if (existingModal) {
        existingModal.remove();
    }

    const successModalHTML = `
        <div id="successModal" style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
        ">
            <div style="
                background: white;
                padding: 30px;
                border-radius: 12px;
                width: 90%;
                max-width: 400px;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
                text-align: center;
                transform: translateY(-20px);
                transition: transform 0.3s ease-out;
            ">
                <div style="font-size: 5rem; margin-bottom: 20px; color: #28a745;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3 style="color: #28a745; margin-bottom: 15px; font-size: 1.8em;">Order Placed Successfully!</h3>
                <p style="font-size: 1.1em; color: #555; margin-bottom: 20px;">Thank you for your order, ${order.customerName}!</p>
                <div style="
                    background: #e9f5ff; /* Light blue background for order details */
                    padding: 15px;
                    border-radius: 8px;
                    margin-bottom: 25px;
                    text-align: left;
                    font-size: 0.95em;
                    line-height: 1.6;
                ">
                    <strong>Order ID:</strong> ${order.id}<br>
                    <strong>Total:</strong> â‚¦${order.totalAmount.toLocaleString()}<br>
                    <strong>Payment Method:</strong> ${getPaymentMethodName(order.paymentMethod)}
                </div>
                <p style="font-size: 0.9em; color: #666; margin-bottom: 30px;">
                    You will receive an order confirmation shortly.
                    Your order will be delivered to: <strong>${order.deliveryAddress}</strong>
                </p>
                <button onclick="closeSuccessModal()" style="
                    padding: 12px 30px;
                    border: none;
                    border-radius: 8px;
                    background-color: #007bff;
                    color: white;
                    font-size: 1.1em;
                    cursor: pointer;
                    transition: background-color 0.2s ease;
                ">Continue Shopping</button>
            </div>
        </div>
    `;

    document.body.insertAdjacentHTML('beforeend', successModalHTML);
    document.body.style.overflow = 'hidden'; // Keep body non-scrollable

    const successModalElement = document.getElementById('successModal');
    if (successModalElement) {
        // Trigger the CSS transition
        setTimeout(() => {
            successModalElement.style.opacity = '1';
            successModalElement.style.visibility = 'visible';
            successModalElement.querySelector('div:first-child').style.transform = 'translateY(0)';
        }, 10);
        console.log('Self-contained success modal displayed.');
    } else {
        console.error('Error: Success modal element not found after insertion.');
    }
}

window.closeSuccessModal = function() {
    const modal = document.getElementById('successModal');
    if (modal) {
        // Trigger CSS fade-out and transform back
        modal.style.opacity = '0';
        modal.style.visibility = 'hidden';
        modal.querySelector('div:first-child').style.transform = 'translateY(-20px)';

        setTimeout(() => {
            if (modal.parentNode) {
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scroll
            // Since checkout and payment are now modals, no need to manage '.page' elements
            showToast('ðŸŽ‰ Welcome back to HomeVibe!', 'info');
        }, 300);
    }
}


// Helper function for payment method display (assuming it exists or define it)
function getPaymentMethodName(method) {
    switch (method) {
        case 'card': return 'Credit/Debit Card';
        case 'bank_transfer': return 'Bank Transfer';
        case 'paystack': return 'Paystack';
        case 'cash_on_delivery': return 'Cash on Delivery';
        default: return method;
    }
}

// Placeholder for appState and showToast (ensure these are defined in your actual application)
// For demonstration purposes:
/*
const appState = {
    cart: [
        { name: 'Modern Sofa', quantity: 1, price: 150000 },
        { name: 'Coffee Table', quantity: 1, price: 50000 }
    ],
    orders: []
};

function showToast(message, type) {
    console.log(`Toast (${type}): ${message}`);
    // In a real app, this would show a visual toast notification
}

function updateCartDisplay() {
    console.log('Cart display updated (placeholder)');
    // In a real app, this would update the cart UI element
}
*/


        // Wishlist Functions
        function toggleWishlistItem(productId) {
            const product = appState.products.find(p => p.id === productId);
            if (!product) return;

            const existingIndex = appState.wishlist.findIndex(item => item.id === productId);
            if (existingIndex >= 0) {
                appState.wishlist.splice(existingIndex, 1);
                showToast(`${product.name} removed from wishlist`, 'success');
            } else {
                appState.wishlist.push(product);
                showToast(`${product.name} added to wishlist`, 'success');
            }

            updateWishlistUI();
            // Update product cards
            loadFeaturedProducts();
            loadAllProducts();
        }

        function updateWishlistUI() {
            const wishlistCountElement = document.getElementById('wishlistCount');
            const wishlistItemsElement = document.getElementById('wishlistItems');

            if (wishlistCountElement) {
                wishlistCountElement.textContent = appState.wishlist.length;
            }

            if (wishlistItemsElement) {
                if (appState.wishlist.length === 0) {
                    wishlistItemsElement.innerHTML = `
                        <div style="text-align: center; padding: 40px 20px; color: var(--text-gray);">
                            <i class="fas fa-heart" style="font-size: 48px; margin-bottom: 20px; opacity: 0.5;"></i>
                            <p>Your wishlist is empty</p>
                            <p style="font-size: 14px; margin-top: 10px;">Add some products to your wishlist!</p>
                        </div>
                    `;
                } else {
                    wishlistItemsElement.innerHTML = appState.wishlist.map(item => `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}" class="cart-item-image" onerror="this.src='data:image/jpeg;base64,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'">
                            <div class="cart-item-info">
                                <div class="cart-item-name">${item.name}</div>
                                <div class="cart-item-price">â‚¦${item.price.toLocaleString()}</div>
                                <div class="cart-item-controls" style="margin-top: 15px;">
                                    <button class="btn btn-primary btn-small" onclick="addToCart(${item.id})" style="margin-right: 10px;">
                                        <i class="fas fa-cart-plus"></i>
                                        Add to Cart
                                    </button>
                                    <button class="qty-btn" onclick="toggleWishlistItem(${item.id})" style="background: #ff4757; color: white;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }
        }

        function toggleWishlist() {
            const wishlistModal = document.getElementById('wishlistModal');
            const overlay = document.getElementById('overlay');
            
            if (wishlistModal && overlay) {
                wishlistModal.classList.add('active');
                overlay.classList.add('active');
            }
        }

        // Modal Functions
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            const overlay = document.getElementById('overlay');
            
            if (modal && overlay) {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            }
        }

        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.classList.remove('active');
            });
            document.querySelectorAll('.cart-sidebar').forEach(sidebar => {
                sidebar.classList.remove('active');
            });
            const overlay = document.getElementById('overlay');
            if (overlay) {
                overlay.classList.remove('active');
            }
        }

        // Other Functions
        function quickView(productId) {
            const product = appState.products.find(p => p.id === productId);
            if (product) {
                showToast(`Viewing ${product.name} - Quick view feature coming soon!`, 'info');
            }
        }

        // Replace your existing functions with these improved versions

function showLogin() {
    // Create login modal HTML
    const loginModal = `
        <div id="loginModal" class="modal" style="display: block;">
            <div class="modal-content" style="max-width: 400px;">
                <div class="modal-header">
                    <h3>Sign In to HomeVibe</h3>
                    <span class="close" onclick="closeLoginModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="loginForm" onsubmit="handleLogin(event)">
                        <div style="margin-bottom: 20px;">
                            <label for="email" style="display: block; margin-bottom: 5px; font-weight: 500;">Email Address</label>
                            <input type="email" id="email" name="email" required 
                                   style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px;">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label for="password" style="display: block; margin-bottom: 5px; font-weight: 500;">Password</label>
                            <input type="password" id="password" name="password" required 
                                   style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px;">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; font-size: 14px;">
                                <input type="checkbox" style="margin-right: 8px;"> Remember me
                            </label>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: 15px;">
                            Sign In
                        </button>
                        <div style="text-align: center; margin-bottom: 15px;">
                            <a href="#" onclick="showToast('Password reset link sent to your email!', 'info')" 
                               style="color: var(--primary); text-decoration: none; font-size: 14px;">
                               Forgot your password?
                            </a>
                        </div>
                        <hr style="margin: 20px 0;">
                        <div style="text-align: center;">
                            <p style="margin-bottom: 15px; color: #666; font-size: 14px;">Don't have an account?</p>
                            <button type="button" class="btn btn-outline" onclick="showSignup()" style="width: 100%;">
                                Create Account
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    `;
    
    // Add modal to page
    document.body.insertAdjacentHTML('beforeend', loginModal);
    document.body.style.overflow = 'hidden';
}

function closeLoginModal() {
    const modal = document.getElementById('loginModal');
    if (modal) {
        modal.remove();
        document.body.style.overflow = 'auto';
    }
}

function handleLogin(event) {
    event.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    
    // Simulate login process
    showToast('Signing you in...', 'info');
    
    setTimeout(() => {
        showToast(`Welcome back! Logged in as ${email}`, 'success');
        closeLoginModal();
        // You can add actual login logic here
    }, 1500);
}

function showSignup() {
    closeLoginModal();
    showToast('Sign up feature will be available soon! For now, you can browse as a guest.', 'info');
}

// Global variables
let quizAnswers = {};
let currentQuestion = 1;

window.startStyleQuiz = function() {
    // Check if modal already exists and remove it
    const existingModal = document.getElementById('styleQuizModal');
    if (existingModal) {
        existingModal.remove();
    }
    
    // Reset quiz state
    quizAnswers = {};
    currentQuestion = 1;
    
    // Create style quiz modal
    const quizModal = document.createElement('div');
    quizModal.id = 'styleQuizModal';
    
    // Force maximum visibility with inline styles
    quizModal.style.cssText = `
        display: block !important;
        position: fixed !important;
        z-index: 999999 !important;
        left: 0 !important;
        top: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        background-color: rgba(0,0,0,0.8) !important;
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
    `;
    
    quizModal.innerHTML = `
        <div style="background-color: white !important; margin: 5% auto !important; padding: 0 !important; border-radius: 8px !important; width: 90% !important; max-width: 600px !important; position: relative !important; box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important; z-index: 1000000 !important;">
            <div style="padding: 20px !important; border-bottom: 1px solid #e0e0e0 !important; display: flex !important; justify-content: space-between !important; align-items: center !important; background: #f8f9fa !important; border-radius: 8px 8px 0 0 !important;">
                <h3 style="margin: 0 !important; color: #007bff !important; font-size: 24px !important;">Discover Your Style</h3>
                <span onclick="closeStyleQuiz()" style="color: #aaa !important; font-size: 28px !important; font-weight: bold !important; cursor: pointer !important; line-height: 1 !important;">&times;</span>
            </div>
            <div style="padding: 20px !important;">
                <div id="quizContent">
                    <div id="question1" class="quiz-question">
                        <h4 style="margin-bottom: 20px !important; color: #007bff !important; font-size: 20px !important; text-align: center !important;">What's your ideal living room vibe?</h4>
                        <div style="display: grid !important; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important; gap: 15px !important;">
                            <button onclick="selectOption('modern', 1)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-cube" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Modern & Minimalist
                            </button>
                            <button onclick="selectOption('cozy', 1)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-home" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Cozy & Traditional
                            </button>
                            <button onclick="selectOption('bohemian', 1)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-feather" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Bohemian & Eclectic
                            </button>
                            <button onclick="selectOption('industrial', 1)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-cog" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Industrial & Urban
                            </button>
                        </div>
                    </div>
                    
                    <div id="question2" class="quiz-question" style="display: none !important;">
                        <h4 style="margin-bottom: 20px !important; color: #007bff !important; font-size: 20px !important; text-align: center !important;">What colors make you feel most at home?</h4>
                        <div style="display: grid !important; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important; gap: 15px !important;">
                            <button onclick="selectOption('neutral', 2)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-circle" style="color: #f5f5f5 !important; display: block !important; font-size: 24px !important; margin-bottom: 8px !important;"></i> Neutral & Calm
                            </button>
                            <button onclick="selectOption('bold', 2)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-circle" style="color: #ff6b6b !important; display: block !important; font-size: 24px !important; margin-bottom: 8px !important;"></i> Bold & Vibrant
                            </button>
                            <button onclick="selectOption('earth', 2)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-circle" style="color: #8b4513 !important; display: block !important; font-size: 24px !important; margin-bottom: 8px !important;"></i> Earth Tones
                            </button>
                            <button onclick="selectOption('pastel', 2)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-circle" style="color: #ffb3ba !important; display: block !important; font-size: 24px !important; margin-bottom: 8px !important;"></i> Soft Pastels
                            </button>
                        </div>
                    </div>
                    
                    <div id="question3" class="quiz-question" style="display: none !important;">
                        <h4 style="margin-bottom: 20px !important; color: #007bff !important; font-size: 20px !important; text-align: center !important;">How do you like to spend time at home?</h4>
                        <div style="display: grid !important; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important; gap: 15px !important;">
                            <button onclick="selectOption('entertaining', 3)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-users" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Entertaining Friends
                            </button>
                            <button onclick="selectOption('relaxing', 3)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-bed" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Quiet Relaxation
                            </button>
                            <button onclick="selectOption('working', 3)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-laptop" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Working from Home
                            </button>
                            <button onclick="selectOption('family', 3)" style="padding: 15px !important; border: 2px solid #e0e0e0 !important; border-radius: 8px !important; background: white !important; cursor: pointer !important; text-align: center !important; font-size: 14px !important; font-weight: 500 !important;">
                                <i class="fas fa-heart" style="display: block !important; font-size: 24px !important; margin-bottom: 8px !important; color: #007bff !important;"></i> Family Time
                            </button>
                        </div>
                    </div>
                    
                    <div id="quizResults" style="display: none !important; text-align: center !important;">
                        <div id="resultContent"></div>
                        <button onclick="closeStyleQuiz()" style="margin-top: 20px !important; background: #007bff !important; color: white !important; padding: 12px 24px !important; border: none !important; border-radius: 6px !important; cursor: pointer !important; font-size: 16px !important; font-weight: 500 !important;">
                            Start Shopping
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    document.body.appendChild(quizModal);
    document.body.style.overflow = 'hidden';
    
    console.log('Style quiz modal created successfully');
}

window.selectOption = function(answer, questionNumber) {
    try {
        quizAnswers[`q${questionNumber}`] = answer;
        console.log('Selected:', answer, 'for question', questionNumber);
        
        if (questionNumber < 3) {
            document.getElementById(`question${questionNumber}`).style.display = 'none';
            document.getElementById(`question${questionNumber + 1}`).style.display = 'block';
            currentQuestion++;
        } else {
            showQuizResults();
        }
    } catch (error) {
        console.error('Error in selectOption:', error);
    }
}

function showQuizResults() {
    try {
        document.getElementById('question3').style.display = 'none';
        
        // Simple logic to determine style
        let style = "Modern Minimalist";
        let description = "Clean lines, neutral colors, and functional furniture";
        let recommendations = ["Sleek sofas", "Geometric lighting", "Minimalist decor"];
        
        if (quizAnswers.q1 === 'cozy') {
            style = "Cozy Traditional";
            description = "Warm textures, rich colors, and comfortable furnishings";
            recommendations = ["Plush armchairs", "Warm lighting", "Soft textiles"];
        } else if (quizAnswers.q1 === 'bohemian') {
            style = "Bohemian Chic";
            description = "Eclectic mix, vibrant patterns, and global influences";
            recommendations = ["Patterned rugs", "Floor cushions", "Plant collections"];
        } else if (quizAnswers.q1 === 'industrial') {
            style = "Industrial Urban";
            description = "Raw materials, metal accents, and urban aesthetics";
            recommendations = ["Metal furniture", "Edison bulb lighting", "Exposed shelving"];
        }
        
        const resultHTML = `
            <h3>Your Style: ${style}</h3>
            <p style="margin: 20px 0; color: #666;">${description}</p>
            <div class="recommendations">
                <h4>Recommended for you:</h4>
                <ul style="text-align: left; margin: 10px 0;">
                    ${recommendations.map(item => `<li>${item}</li>`).join('')}
                </ul>
            </div>
        `;
        
        document.getElementById('resultContent').innerHTML = resultHTML;
        document.getElementById('quizResults').style.display = 'block';
        
        console.log('Quiz results displayed');
    } catch (error) {
        console.error('Error in showQuizResults:', error);
    }
}

window.closeStyleQuiz = function() {
    try {
        const modal = document.getElementById('styleQuizModal');
        if (modal) {
            modal.remove();
            document.body.style.overflow = 'auto';
            console.log('Style quiz modal closed');
        }
        quizAnswers = {};
        currentQuestion = 1;
    } catch (error) {
        console.error('Error in closeStyleQuiz:', error);
    }
}

// Global variables (assuming these are already defined elsewhere or will be)
// let quizAnswers = {};
// let currentQuestion = 1;

// Function to open the chatbot modal
window.openChatbot = function() {
    // Check if modal already exists and remove it to prevent duplicates
    const existingModal = document.getElementById('chatbotModal');
    if (existingModal) {
        existingModal.remove();
    }

    // Create chatbot interface HTML string
    const chatbotModalHTML = `
        <div id="chatbotModal" class="modal">
            <div class="modal-content" style="max-width: 500px; height: 600px; display: flex; flex-direction: column;">
                <div class="modal-header">
                    <h3>HomeVibe Assistant</h3>
                    <span class="close" onclick="closeChatbot()">&times;</span>
                </div>
                <div class="modal-body" style="flex: 1; display: flex; flex-direction: column;">
                    <div id="chatMessages" style="flex: 1; overflow-y: auto; padding: 10px; background: #f8f9fa; border-radius: 8px; margin-bottom: 15px;">
                        <div class="chat-message bot-message">
                            <strong>HomeVibe Assistant:</strong><br>
                            Hi! I'm here to help you find the perfect items for your home. What are you looking for today?
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="chatInput" placeholder="Ask me anything about home decor..."
                               style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 8px;"
                               onkeypress="if(event.key==='Enter') sendChatMessage()">
                        <button class="btn btn-primary" onclick="sendChatMessage()">Send</button>
                    </div>
                    <div style="margin-top: 10px;">
                        <small style="color: #666;">Quick suggestions:</small>
                        <div style="margin-top: 5px;">
                            <button class="btn btn-outline btn-sm" onclick="sendQuickMessage('What are your best-selling items?')" style="margin: 2px; font-size: 12px;">Best sellers</button>
                            <button class="btn btn-outline btn-sm" onclick="sendQuickMessage('I need help decorating a small living room')" style="margin: 2px; font-size: 12px;">Small space tips</button>
                            <button class="btn btn-outline btn-sm" onclick="sendQuickMessage('What is your return policy?')" style="margin: 2px; font-size: 12px;">Return policy</button>
                            <button class="btn btn-outline btn-sm" onclick="sendQuickMessage('I want to take the style quiz')" style="margin: 2px; font-size: 12px;">Style quiz</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Insert the modal HTML into the body
    document.body.insertAdjacentHTML('beforeend', chatbotModalHTML);
    document.body.style.overflow = 'hidden'; // Prevent body scrolling when modal is open

    // Get the newly created modal element
    const chatbotElement = document.getElementById('chatbotModal');
    if (chatbotElement) {
        // Add the 'active' class to make it visible with CSS transition
        chatbotElement.classList.add('active');
        console.log('Chatbot modal created and set to active.');
    } else {
        console.error('Error: Chatbot modal element not found after insertion.');
    }
}

// Function to send a message
window.sendChatMessage = function() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();

    if (message) {
        addChatMessage(message, 'user');
        input.value = ''; // Clear input field

        // Simulate bot response after a delay
        setTimeout(() => {
            const response = getBotResponse(message);
            addChatMessage(response, 'bot');
        }, 1000); // 1-second delay for bot response
    }
}

// Function to send a quick suggestion message
window.sendQuickMessage = function(message) {
    addChatMessage(message, 'user');
    setTimeout(() => {
        const response = getBotResponse(message);
        addChatMessage(response, 'bot');
    }, 1000);
}

// Function to add a message to the chat display
function addChatMessage(message, sender) {
    const chatMessages = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = `chat-message ${sender}-message`;

    if (sender === 'user') {
        messageDiv.innerHTML = `<strong>You:</strong><br>${message}`;
        messageDiv.style.textAlign = 'right';
        messageDiv.style.backgroundColor = '#e3f2fd'; // Light blue for user
        messageDiv.style.marginLeft = 'auto'; // Push to right
    } else {
        messageDiv.innerHTML = `<strong>HomeVibe Assistant:</strong><br>${message}`;
        messageDiv.style.backgroundColor = '#f1f8e9'; // Light green for bot
        messageDiv.style.marginRight = 'auto'; // Push to left
    }

    messageDiv.style.maxWidth = '80%'; // Limit message width
    messageDiv.style.wordWrap = 'break-word'; // Ensure long words wrap
    messageDiv.style.marginBottom = '10px';
    messageDiv.style.padding = '10px';
    messageDiv.style.borderRadius = '8px';

    chatMessages.appendChild(messageDiv);
    // Scroll to the bottom to show the latest message
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

// Function to determine bot's response
function getBotResponse(message) {
    const lowerMessage = message.toLowerCase();

    if (lowerMessage.includes('best') || lowerMessage.includes('popular')) {
        return "Our best-selling items include modern sofas, LED lighting fixtures, and indoor plants. Would you like me to show you any specific category?";
    } else if (lowerMessage.includes('small') || lowerMessage.includes('space')) {
        return "For small spaces, I recommend multi-functional furniture, mirrors to create illusion of space, and vertical storage solutions. Light colors also help make rooms feel larger!";
    } else if (lowerMessage.includes('return') || lowerMessage.includes('policy')) {
        return "We offer a 30-day return policy for all items in original condition. Free returns for orders over â‚¦50,000. Would you like more details about our return process?";
    } else if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('budget')) {
        return "Our prices range from â‚¦5,000 for small decor items to â‚¦500,000 for premium furniture. We also offer flexible payment plans. What's your budget range?";
    } else if (lowerMessage.includes('delivery') || lowerMessage.includes('shipping')) {
        return "We deliver nationwide! Lagos delivery is 1-2 days, other states 3-5 days. Free delivery on orders over â‚¦100,000. Where would you like us to deliver?";
    } else if (lowerMessage.includes('quiz') || lowerMessage.includes('style quiz') || lowerMessage.includes('discover my style')) {
        // Integrate with your style quiz
        if (typeof window.startStyleQuiz === 'function') {
            // Added a button to directly start the quiz
            return "Absolutely! Let's discover your unique style. <button onclick='window.startStyleQuiz(); closeChatbot();' class='btn btn-primary btn-sm' style='margin-left: 5px;'>Start Style Quiz</button>";
        } else {
            return "I can help with style discovery! It seems my style quiz isn't quite ready yet, but please feel free to ask about specific decor items.";
        }
    }
    else {
        return "That's a great question! For detailed information, I recommend Browse our product categories or contacting our customer service team. Is there anything specific about home decor I can help you with?";
    }
}

// Function to close the chatbot modal
window.closeChatbot = function() {
    const modal = document.getElementById('chatbotModal');
    if (modal) {
        // Remove the 'active' class to trigger the fade-out transition
        modal.classList.remove('active');

        // Remove the modal from the DOM after the transition completes (0.3s from your CSS)
        setTimeout(() => {
            if (modal.parentNode) { // Check if it's still in the DOM before removing
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scrolling
            console.log('Chatbot modal closed.');
        }, 300); // This delay should match your CSS transition duration
    }
}

// Function to show the FAQ modal
window.showFAQ = function() {
    // Check if modal already exists and remove it to prevent duplicates
    const existingModal = document.getElementById('faqModal');
    if (existingModal) {
        existingModal.remove();
    }

    // Create FAQ modal HTML string
    const faqModalHTML = `
        <div id="faqModal" class="modal">
            <div class="modal-content" style="max-width: 700px;">
                <div class="modal-header">
                    <h3>Frequently Asked Questions</h3>
                    <span class="close" onclick="closeFAQ()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="faq-container">
                        <div class="faq-item">
                            <button class="faq-question" onclick="toggleFAQ(1)">
                                <span>How long does delivery take?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="faq-answer" id="faq1">
                                <p>Delivery times vary by location:</p>
                                <ul>
                                    <li>Lagos: 1-2 business days</li>
                                    <li>Major cities (Abuja, Port Harcourt, Kano): 2-3 business days</li>
                                    <li>Other locations: 3-5 business days</li>
                                </ul>
                                <p>Free delivery on orders over â‚¦100,000!</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <button class="faq-question" onclick="toggleFAQ(2)">
                                <span>What is your return policy?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="faq-answer" id="faq2">
                                <p>We offer a 30-day return policy for items in original condition. Returns are free for orders over â‚¦50,000. Items must be unopened and include all original packaging.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <button class="faq-question" onclick="toggleFAQ(3)">
                                <span>Do you offer installation services?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="faq-answer" id="faq3">
                                <p>Yes! We offer professional installation for furniture and fixtures. Installation fees vary by item complexity. Contact us for a quote when placing your order.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <button class="faq-question" onclick="toggleFAQ(4)">
                                <span>What payment methods do you accept?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="faq-answer" id="faq4">
                                <p>We accept:</p>
                                <ul>
                                    <li>Bank transfers</li>
                                    <li>Debit/Credit cards</li>
                                    <li>Mobile money (Opay, PalmPay, etc.)</li>
                                    <li>Installment payments (3-12 months)</li>
                                </ul>
                            </div>
                        </div>

                        <div class="faq-item">
                            <button class="faq-question" onclick="toggleFAQ(5)">
                                <span>Can I track my order?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="faq-answer" id="faq5">
                                <p>Absolutely! Once your order ships, you'll receive a tracking number via SMS and email. You can also check your order status in your account dashboard.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <button class="faq-question" onclick="toggleFAQ(6)">
                                <span>Do you have a physical store?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="faq-answer" id="faq6">
                                <p>We're primarily online, but we have a showroom in Lagos where you can view select items. Visit us at: 123 Ikeja GRA, Lagos. Open Monday-Saturday, 9AM-6PM.</p>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                        <h4>Still have questions?</h4>
                        <p>Contact us at **support@homevibe.ng** or call **0800-HOME-VIBE**</p>
                        <button class="btn btn-primary" onclick="openChatbot(); closeFAQ();">Chat with us</button>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Insert the modal HTML into the body
    document.body.insertAdjacentHTML('beforeend', faqModalHTML);
    document.body.style.overflow = 'hidden'; // Prevent body scrolling

    // Get the newly created modal element
    const faqElement = document.getElementById('faqModal');
    if (faqElement) {
        // Add the 'active' class to make it visible with CSS transition
        faqElement.classList.add('active');
        console.log('FAQ modal created and set to active.');
    } else {
        console.error('Error: FAQ modal element not found after insertion.');
    }
}

// Function to toggle FAQ answers
window.toggleFAQ = function(number) {
    const answer = document.getElementById(`faq${number}`);
    const questionButton = answer.previousElementSibling;
    const icon = questionButton.querySelector('i');

    // Check if the clicked answer is currently visible
    const isCurrentlyOpen = answer.style.maxHeight !== '0px';

    // Close all other FAQs and reset their icons
    document.querySelectorAll('.faq-answer').forEach(item => {
        if (item !== answer) { // Only close others
            item.style.maxHeight = '0';
            item.style.paddingBottom = '0';
            const otherIcon = item.previousElementSibling.querySelector('i');
            otherIcon.classList.remove('fa-chevron-up');
            otherIcon.classList.add('fa-chevron-down');
        }
    });

    if (!isCurrentlyOpen) {
        // Open the clicked FAQ
        answer.style.maxHeight = answer.scrollHeight + 'px'; // Set maxHeight to content height
        answer.style.paddingBottom = '15px'; // Apply desired padding
        icon.classList.remove('fa-chevron-down');
        icon.classList.add('fa-chevron-up');
    } else {
        // Close the clicked FAQ
        answer.style.maxHeight = '0';
        answer.style.paddingBottom = '0';
        icon.classList.remove('fa-chevron-up');
        icon.classList.add('fa-chevron-down');
    }
}

// Function to close the FAQ modal
window.closeFAQ = function() {
    const modal = document.getElementById('faqModal');
    if (modal) {
        // Remove the 'active' class to trigger the fade-out transition
        modal.classList.remove('active');

        // Remove the modal from the DOM after the transition completes (0.3s from your CSS)
        setTimeout(() => {
            if (modal.parentNode) { // Check if it's still in the DOM before removing
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scrolling
            console.log('FAQ modal closed.');
        }, 300); // This delay should match your CSS transition duration
    }
}
// Add CSS styles for the new elements


        function subscribeToAR() {
            const emailInput = document.getElementById('arEmailInput');
            if (emailInput) {
                const email = emailInput.value.trim();
                if (!email) {
                    showToast('Please enter your email address', 'error');
                    return;
                }
                if (!email.includes('@')) {
                    showToast('Please enter a valid email address', 'error');
                    return;
                }
                emailInput.value = '';
                showToast('Thank you! We\'ll notify you when AR Room Designer launches.', 'success');
            }
        }

        // Toast Notification System
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            if (!toast) return;

            toast.textContent = message;
            toast.className = `toast ${type} show`;

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
            
            // Add click event listeners for navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const onclick = this.getAttribute('onclick');
                    if (onclick) {
                        eval(onclick);
                    }
                });
            });
        });


        // Function to show the Customer Stories modal
window.showCustomerStoriesModal = function() {
    // Check if modal already exists and remove it to prevent duplicates
    const existingModal = document.getElementById('customerStoriesModal');
    if (existingModal) {
        existingModal.remove();
    }

    // Hardcoded Customer Stories data
    const stories = [
        {
            name: "Lanre A.",
            location: "Lagos, Nigeria",
            time: "2 days ago",
            message: "HomeVibe transformed my living room! The sofa is even more beautiful in person, and the delivery was incredibly fast. Highly recommend for quality and service! â­â­â­â­â­"
        },
        {
            name: "Tochukwu O.",
            location: "Abuja, Nigeria",
            time: "1 week ago",
            message: "I was hesitant to buy furniture online, but HomeVibe exceeded all my expectations. The bed frame is sturdy, stylish, and exactly what I needed. Plus, the installment payment option was a lifesaver! Thank you, HomeVibe! âœ¨"
        },
        {
            name: "Mutiu B.",
            location: "Port Harcourt, Nigeria",
            time: "2 weeks ago",
            message: "From elegant dining chairs to unique decor pieces, HomeVibe has truly elevated my home's aesthetic. Their customer service is top-notch, assisting me with every step. I'm a loyal customer now! ðŸ ðŸ’–"
        },
        {
            name: "Emmanuel E.",
            location: "Kano, Nigeria",
            time: "1 month ago",
            message: "Fast delivery and amazing quality! My new office desk from HomeVibe is perfect. It was easy to assemble, and the wood finish is premium. Couldn't be happier with my purchase. ðŸ‘"
        }
    ];

    // Generate HTML for each story
    const storiesHTML = stories.map(story => `
        <div class="customer-story-item">
            <p class="story-message">"${story.message}"</p>
            <p class="story-author"><strong>- ${story.name}</strong>, ${story.location} <span class="story-time">(${story.time})</span></p>
        </div>
    `).join(''); // Join all story HTML strings

    // Create modal HTML string
    const customerStoriesModalHTML = `
        <div id="customerStoriesModal" class="modal">
            <div class="modal-content" style="max-width: 600px;">
                <div class="modal-header">
                    <h3>What Our Customers Say</h3>
                    <span class="close" onclick="closeCustomerStoriesModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="customer-stories-container">
                        ${storiesHTML}
                    </div>
                </div>
            </div>
        </div>
    `;

    // Insert the modal HTML into the body
    document.body.insertAdjacentHTML('beforeend', customerStoriesModalHTML);
    document.body.style.overflow = 'hidden'; // Prevent body scrolling

    // Get the newly created modal element
    const modalElement = document.getElementById('customerStoriesModal');
    if (modalElement) {
        // Add the 'active' class to make it visible with CSS transition
        modalElement.classList.add('active');
        console.log('Customer Stories modal created and set to active.');
    } else {
        console.error('Error: Customer Stories modal element not found after insertion.');
    }
}

// Function to close the Customer Stories modal
window.closeCustomerStoriesModal = function() {
    const modal = document.getElementById('customerStoriesModal');
    if (modal) {
        // Remove the 'active' class to trigger the fade-out transition
        modal.classList.remove('active');

        // Remove the modal from the DOM after the transition completes (0.3s from your CSS)
        setTimeout(() => {
            if (modal.parentNode) { // Check if it's still in the DOM before removing
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scrolling
            console.log('Customer Stories modal closed.');
        }, 300); // This delay should match your CSS transition duration
    }
}

// Array of image paths for the gallery
const galleryImages = [
  // Home Office Setups
  'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Modern home office with desk
  'https://images.unsplash.com/photo-1541558869434-2840d308329a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Minimalist workspace
  'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Home office with plants
  'https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Clean desk setup
  'https://images.unsplash.com/photo-1597218868981-1b68e15f0065?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Standing desk office
  
  // Home Kitchens
  'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Modern white kitchen
  'https://images.unsplash.com/photo-1556909114-35c1ca2b1350?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Dark kitchen with island
  'https://images.unsplash.com/photo-1565538810643-b5bdb714032a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Rustic kitchen setup
  'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Contemporary kitchen design
  'https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Bright kitchen with appliances
  
  // Office Spaces
  'https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Modern office interior
  'https://images.unsplash.com/photo-1497366811353-6870744d04b2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Open office space
  'https://images.unsplash.com/photo-1604328698692-f76ea9498e76?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Corporate office setup
  'https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Meeting room design
  
  // Mixed Home & Office Settings
  'https://images.unsplash.com/photo-1551522435-a13afa10f103?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Kitchen office combo
  'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Living room workspace
  'https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Cozy home office nook
  'https://images.unsplash.com/photo-1571624436279-b272aff752b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Kitchen workspace design
  'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80', // Multi-functional space
  'https://images.unsplash.com/photo-1600607687644-c7171b42498b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80'  // Kitchen organization setup
];

let currentSlideIndex = 0; // Keep track of the current image

// Function to show the Photo Gallery modal
window.showPhotoGalleryModal = function() {
    const existingModal = document.getElementById('photoGalleryModal');
    if (existingModal) {
        existingModal.remove();
    }

    // Generate slides HTML
    const slidesHTML = galleryImages.map((src, index) => `
        <div class="gallery-slide fade ${index === 0 ? 'active' : ''}">
            <img src="${src}" alt="Home Decor ${index + 1}">
        </div>
    `).join('');

    const photoGalleryModalHTML = `
        <div id="photoGalleryModal" class="modal">
            <div class="modal-content" style="max-width: 700px; padding: 0;">
                <div class="modal-header">
                    <h3>Photo Gallery</h3>
                    <span class="close" onclick="closePhotoGalleryModal()">&times;</span>
                </div>
                <div class="modal-body" style="padding: 0;">
                    <div class="slideshow-container">
                        ${slidesHTML}
                        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                        <a class="next" onclick="plusSlides(1)">&#10095;</a>
                    </div>
                    <div style="text-align:center; padding: 10px;">
                        ${galleryImages.map((_, index) => `<span class="dot" onclick="currentSlide(${index + 1})"></span>`).join('')}
                    </div>
                </div>
            </div>
        </div>
    `;

    document.body.insertAdjacentHTML('beforeend', photoGalleryModalHTML);
    document.body.style.overflow = 'hidden';

    const modalElement = document.getElementById('photoGalleryModal');
    if (modalElement) {
        modalElement.classList.add('active');
        // Initialize carousel to show the first slide and dots
        currentSlideIndex = 0; // Reset to first slide every time modal opens
        showSlides(currentSlideIndex);
        console.log('Photo Gallery modal created and set to active.');
    } else {
        console.error('Error: Photo Gallery modal element not found after insertion.');
    }
};

// Carousel navigation functions
window.plusSlides = function(n) {
    showSlides(currentSlideIndex += n);
};

window.currentSlide = function(n) {
    showSlides(currentSlideIndex = n - 1); // Adjust for 0-based index
};

function showSlides(n) {
    const slides = document.getElementsByClassName("gallery-slide");
    const dots = document.getElementsByClassName("dot");

    if (n >= slides.length) {
        currentSlideIndex = 0; // Loop back to the first slide
    }
    if (n < 0) {
        currentSlideIndex = slides.length - 1; // Loop to the last slide
    }

    // Hide all slides
    for (let i = 0; i < slides.length; i++) {
        slides[i].classList.remove('active');
    }
    // Deactivate all dots
    for (let i = 0; i < dots.length; i++) {
        dots[i].classList.remove('active');
    }

    // Show the current slide and activate the corresponding dot
    slides[currentSlideIndex].classList.add('active');
    dots[currentSlideIndex].classList.add('active');
}

// Function to show the Video Tutorial modal
window.showVideoTutorialModal = function() {
    // Check if modal already exists and remove it to prevent duplicates
    const existingModal = document.getElementById('videoTutorialModal');
    if (existingModal) {
        existingModal.remove();
    }

    // Video details (you might want to update the title if it's a different video)
    const videoTitle = 'Furniture Assembly Tutorial'; // You can change this title
    const videoUrl = 'https://www.youtube.com/watch?v=CPPNCGdX7Jo'; // UPDATED VIDEO URL

    // Create modal HTML string with the YouTube iframe
    const videoTutorialModalHTML = `
        <div id="videoTutorialModal" class="modal">
            <div class="modal-content" style="max-width: 800px; padding: 0;">
                <div class="modal-header">
                    <h3>${videoTitle}</h3>
                    <span class="close" onclick="closeVideoTutorialModal()">Ã—</span>
                </div>
                <div class="modal-body" style="padding: 0;">
                    <div class="video-container">
                        <iframe
                            src="${videoUrl}?autoplay=1&rel=0"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen
                            title="${videoTitle}"
                        ></iframe>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Insert the modal HTML into the body
    document.body.insertAdjacentHTML('beforeend', videoTutorialModalHTML);
    document.body.style.overflow = 'hidden'; // Prevent body scrolling

    // Get the newly created modal element
    const modalElement = document.getElementById('videoTutorialModal');
    if (modalElement) {
        // Add the 'active' class to make it visible with CSS transition
        modalElement.classList.add('active');
        console.log('Video Tutorial modal created and set to active.');
    } else {
        console.error('Error: Video Tutorial modal element not found after insertion.');
    }
};

// Function to close the Video Tutorial modal (remains the same)
window.closeVideoTutorialModal = function() {
    const modal = document.getElementById('videoTutorialModal');
    if (modal) {
        // Remove the 'active' class to trigger the fade-out transition
        modal.classList.remove('active');

        // Remove the modal from the DOM after the transition completes (0.3s from your CSS)
        setTimeout(() => {
            if (modal.parentNode) { // Check if it's still in the DOM before removing
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scrolling
            console.log('Video Tutorial modal closed.');
        }, 300); // This delay should match your CSS transition duration
    }
};

// Function to show the Budget Decorating Tips modal
window.showBudgetTipsModal = function() {
    // Check if modal already exists and remove it to prevent duplicates
    const existingModal = document.getElementById('budgetTipsModal');
    if (existingModal) {
        existingModal.remove();
    }

    // Hardcoded Article Data
    const articles = [
        {
            title: "Nigerian Budget Decorating Hack #1: Embrace Local Crafts",
            content: `
                <p>One of the most effective ways to decorate on a budget in Nigeria is to leverage our rich local craftsmanship. Instead of importing expensive decor, explore local markets like Balogun Market or Arts & Crafts Village for unique, handmade pieces.</p>
                <p>Think intricately carved wooden stools, vibrant Ankara throw pillows, hand-woven baskets, and beautiful pottery. These items not only add character and a touch of cultural flair to your home but are also significantly more affordable and support local artisans.</p>
                <p>For instance, a set of hand-woven placemats can instantly uplift your dining area, or a large, patterned fabric can serve as an affordable, statement-making wall hanging.</p>
            `
        },
        {
            title: "Nigerian Budget Decorating Hack #2: DIY and Repurposing",
            content: `
                <p>Unleash your inner DIY guru! Repurposing old items can save you a fortune. That old tire? Clean it, paint it, and add a cushion to turn it into a chic ottoman. Empty glass bottles or jars can be transformed into elegant vases or candle holders with a bit of paint or twine.</p>
                <p>Consider painting an old wooden crate to use as a rustic bookshelf or bedside table. Even old fabrics can be cut and sewn into unique cushion covers or wall art. YouTube and Pinterest are fantastic resources for simple DIY projects using readily available materials.</p>
                <p>Look around your home for items you no longer use in their original capacity and imagine their potential for a new life. A little creativity goes a long way!</p>
            `
        },
        {
            title: "Nigerian Budget Decorating Hack #3: Strategic Thrift Shopping & Swapping",
            content: `
                <p>Don't shy away from thrift stores or "bend down select" markets (like Yaba Market for clothes, but look for furniture/decor specific ones if available, or online groups). You can find hidden gems like vintage furniture, unique lamps, or decorative items that just need a little TLC (tender loving care).</p>
                <p>A chipped antique table might look brand new with a fresh coat of paint, or an old picture frame can be revamped for a modern look. Additionally, consider organizing a "decor swap" with friends or family. Everyone brings items they no longer want, and you all get to refresh your spaces for free!</p>
                <p>Online communities and local Facebook groups often have "for sale" or "free" sections where people give away furniture or decor items. Patience and persistence are key for successful thrift shopping.</p>
            `
        }
    ];

    // Generate HTML for each article
    const articlesHTML = articles.map((article, index) => `
        <div class="article-item">
            <h4>${article.title}</h4>
            <div class="article-content">${article.content}</div>
        </div>
        ${index < articles.length - 1 ? '<hr class="article-separator">' : ''}
    `).join('');

    // Create modal HTML string
    const budgetTipsModalHTML = `
        <div id="budgetTipsModal" class="modal">
            <div class="modal-content" style="max-width: 800px;">
                <div class="modal-header">
                    <h3>Budget Decorating Tips</h3>
                    <span class="close" onclick="closeBudgetTipsModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="articles-container">
                        ${articlesHTML}
                    </div>
                    <div style="margin-top: 30px; text-align: center;">
                        <button class="btn btn-outline" onclick="closeBudgetTipsModal()">Close Reading</button>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Insert the modal HTML into the body
    document.body.insertAdjacentHTML('beforeend', budgetTipsModalHTML);
    document.body.style.overflow = 'hidden'; // Prevent body scrolling

    // Get the newly created modal element
    const modalElement = document.getElementById('budgetTipsModal');
    if (modalElement) {
        // Add the 'active' class to make it visible with CSS transition
        modalElement.classList.add('active');
        console.log('Budget Tips modal created and set to active.');
    } else {
        console.error('Error: Budget Tips modal element not found after insertion.');
    }
};

// Function to close the Budget Tips modal
window.closeBudgetTipsModal = function() {
    const modal = document.getElementById('budgetTipsModal');
    if (modal) {
        // Remove the 'active' class to trigger the fade-out transition
        modal.classList.remove('active');

        // Remove the modal from the DOM after the transition completes (0.3s from your CSS)
        setTimeout(() => {
            if (modal.parentNode) { // Check if it's still in the DOM before removing
                modal.remove();
            }
            document.body.style.overflow = 'auto'; // Re-enable body scrolling
            console.log('Budget Tips modal closed.');
        }, 300); // This delay should match your CSS transition duration
    }
};

// Function to close the Photo Gallery modal
window.closePhotoGalleryModal = function() {
    const modal = document.getElementById('photoGalleryModal');
    if (modal) {
        modal.classList.remove('active');
        setTimeout(() => {
            if (modal.parentNode) {
                modal.remove();
            }
            document.body.style.overflow = 'auto';
            console.log('Photo Gallery modal closed.');
        }, 300);
    }
};

        // Handle window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                const nav = document.querySelector('.nav');
                if (nav) {
                    nav.style.display = '';
                }
            }
        });
    </script>
</body>

</html>